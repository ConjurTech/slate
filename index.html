
<!doctype html>
<html>
  <head>
    <link href="images/favicon.ico" rel="icon" type="image/ico" />
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Switcheo API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#overview" class="toc-h1 toc-link" data-title="overview">Overview</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#introduction" class="toc-h2 toc-link" data-title="introduction">
                      Introduction
                    </a>
                  </li>
                  <li>
                    <a href="#sandbox" class="toc-h2 toc-link" data-title="sandbox">
                      Sandbox
                    </a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#rest" class="toc-h1 toc-link" data-title="rest">REST</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#introduction-2" class="toc-h2 toc-link" data-title="introduction">
                      Introduction
                    </a>
                  </li>
                  <li>
                    <a href="#rate-limits" class="toc-h2 toc-link" data-title="rate-limits">
                      Rate Limits
                    </a>
                  </li>
                  <li>
                    <a href="#exchange-information" class="toc-h2 toc-link" data-title="exchange-information">
                      Exchange Information
                        <ul class="toc-list-h3">
                            <li>
                              <a href="#get-timestamp" class="toc-h3 toc-link" data-title="GET Timestamp">GET Timestamp</a>
                            </li>
                            <li>
                              <a href="#get-contracts" class="toc-h3 toc-link" data-title="GET Contracts">GET Contracts</a>
                            </li>
                            <li>
                              <a href="#get-latest-contracts" class="toc-h3 toc-link" data-title="GET Latest Contracts">GET Latest Contracts</a>
                            </li>
                            <li>
                              <a href="#get-pairs" class="toc-h3 toc-link" data-title="GET Pairs">GET Pairs</a>
                            </li>
                            <li>
                              <a href="#get-tokens" class="toc-h3 toc-link" data-title="GET Tokens">GET Tokens</a>
                            </li>
                            <li>
                              <a href="#get-fees" class="toc-h3 toc-link" data-title="GET Fees">GET Fees</a>
                            </li>
                            <li>
                              <a href="#get-announcements" class="toc-h3 toc-link" data-title="GET Announcements">GET Announcements</a>
                            </li>
                            <li>
                              <a href="#get-swap-pairs" class="toc-h3 toc-link" data-title="GET Swap Pairs">GET Swap Pairs</a>
                            </li>
                            <li>
                              <a href="#get-swap-pricing" class="toc-h3 toc-link" data-title="GET Swap Pricing">GET Swap Pricing</a>
                            </li>
                            <li>
                              <a href="#get-atomic-swap-contracts" class="toc-h3 toc-link" data-title="GET Atomic Swap Contracts">GET Atomic Swap Contracts</a>
                            </li>
                        </ul>
                    </a>
                  </li>
                  <li>
                    <a href="#tickers" class="toc-h2 toc-link" data-title="tickers">
                      Tickers
                        <ul class="toc-list-h3">
                            <li>
                              <a href="#get-candlesticks" class="toc-h3 toc-link" data-title="GET Candlesticks">GET Candlesticks</a>
                            </li>
                            <li>
                              <a href="#get-last-24-hours" class="toc-h3 toc-link" data-title="GET Last 24 Hours">GET Last 24 Hours</a>
                            </li>
                            <li>
                              <a href="#get-last-price" class="toc-h3 toc-link" data-title="GET Last Price">GET Last Price</a>
                            </li>
                        </ul>
                    </a>
                  </li>
                  <li>
                    <a href="#authentication" class="toc-h2 toc-link" data-title="authentication">
                      Authentication
                        <ul class="toc-list-h3">
                            <li>
                              <a href="#overview-2" class="toc-h3 toc-link" data-title="Overview">Overview</a>
                            </li>
                            <li>
                              <a href="#signing-messages-for-eth" class="toc-h3 toc-link" data-title="Signing Messages for ETH">Signing Messages for ETH</a>
                            </li>
                            <li>
                              <a href="#signing-transactions-for-eth" class="toc-h3 toc-link" data-title="Signing Transactions for ETH">Signing Transactions for ETH</a>
                            </li>
                            <li>
                              <a href="#signing-messages-for-eos" class="toc-h3 toc-link" data-title="Signing Messages for EOS">Signing Messages for EOS</a>
                            </li>
                            <li>
                              <a href="#signing-transactions-for-eos" class="toc-h3 toc-link" data-title="Signing Transactions for EOS">Signing Transactions for EOS</a>
                            </li>
                            <li>
                              <a href="#signing-messages-for-neo" class="toc-h3 toc-link" data-title="Signing Messages for NEO">Signing Messages for NEO</a>
                            </li>
                            <li>
                              <a href="#signing-transactions-for-neo" class="toc-h3 toc-link" data-title="Signing Transactions for NEO">Signing Transactions for NEO</a>
                            </li>
                        </ul>
                    </a>
                  </li>
                  <li>
                    <a href="#offers" class="toc-h2 toc-link" data-title="offers">
                      Offers
                        <ul class="toc-list-h3">
                            <li>
                              <a href="#get-order-book" class="toc-h3 toc-link" data-title="GET Order Book">GET Order Book</a>
                            </li>
                            <li>
                              <a href="#get-offer-book" class="toc-h3 toc-link" data-title="GET Offer Book">GET Offer Book</a>
                            </li>
                        </ul>
                    </a>
                  </li>
                  <li>
                    <a href="#trades" class="toc-h2 toc-link" data-title="trades">
                      Trades
                        <ul class="toc-list-h3">
                            <li>
                              <a href="#get-trades" class="toc-h3 toc-link" data-title="GET Trades">GET Trades</a>
                            </li>
                            <li>
                              <a href="#get-recent-trades" class="toc-h3 toc-link" data-title="GET Recent Trades">GET Recent Trades</a>
                            </li>
                        </ul>
                    </a>
                  </li>
                  <li>
                    <a href="#deposits" class="toc-h2 toc-link" data-title="deposits">
                      Deposits
                        <ul class="toc-list-h3">
                            <li>
                              <a href="#overview-3" class="toc-h3 toc-link" data-title="Overview">Overview</a>
                            </li>
                            <li>
                              <a href="#testing-with-testnet-faucet" class="toc-h3 toc-link" data-title="Testing with TestNet Faucet">Testing with TestNet Faucet</a>
                            </li>
                            <li>
                              <a href="#post-create-deposit" class="toc-h3 toc-link" data-title="POST Create Deposit">POST Create Deposit</a>
                            </li>
                            <li>
                              <a href="#post-execute-eth-deposit" class="toc-h3 toc-link" data-title="POST Execute ETH Deposit">POST Execute ETH Deposit</a>
                            </li>
                            <li>
                              <a href="#post-execute-eos-deposit" class="toc-h3 toc-link" data-title="POST Execute EOS Deposit">POST Execute EOS Deposit</a>
                            </li>
                            <li>
                              <a href="#post-execute-neo-deposit" class="toc-h3 toc-link" data-title="POST Execute NEO Deposit">POST Execute NEO Deposit</a>
                            </li>
                        </ul>
                    </a>
                  </li>
                  <li>
                    <a href="#withdrawals" class="toc-h2 toc-link" data-title="withdrawals">
                      Withdrawals
                        <ul class="toc-list-h3">
                            <li>
                              <a href="#overview-4" class="toc-h3 toc-link" data-title="Overview">Overview</a>
                            </li>
                            <li>
                              <a href="#post-create-withdrawal" class="toc-h3 toc-link" data-title="POST Create Withdrawal">POST Create Withdrawal</a>
                            </li>
                            <li>
                              <a href="#post-execute-withdrawal" class="toc-h3 toc-link" data-title="POST Execute Withdrawal">POST Execute Withdrawal</a>
                            </li>
                        </ul>
                    </a>
                  </li>
                  <li>
                    <a href="#orders" class="toc-h2 toc-link" data-title="orders">
                      Orders
                        <ul class="toc-list-h3">
                            <li>
                              <a href="#overview-5" class="toc-h3 toc-link" data-title="Overview">Overview</a>
                            </li>
                            <li>
                              <a href="#the-order-model" class="toc-h3 toc-link" data-title="The Order Model">The Order Model</a>
                            </li>
                            <li>
                              <a href="#get-order" class="toc-h3 toc-link" data-title="GET Order">GET Order</a>
                            </li>
                            <li>
                              <a href="#get-orders" class="toc-h3 toc-link" data-title="GET Orders">GET Orders</a>
                            </li>
                            <li>
                              <a href="#post-create-order" class="toc-h3 toc-link" data-title="POST Create Order">POST Create Order</a>
                            </li>
                            <li>
                              <a href="#post-execute-order" class="toc-h3 toc-link" data-title="POST Execute Order">POST Execute Order</a>
                            </li>
                            <li>
                              <a href="#post-create-cancellation" class="toc-h3 toc-link" data-title="POST Create Cancellation">POST Create Cancellation</a>
                            </li>
                            <li>
                              <a href="#post-execute-cancellation" class="toc-h3 toc-link" data-title="POST Execute Cancellation">POST Execute Cancellation</a>
                            </li>
                            <li>
                              <a href="#computing-offer-hash-neo" class="toc-h3 toc-link" data-title="Computing Offer Hash (NEO)">Computing Offer Hash (NEO)</a>
                            </li>
                        </ul>
                    </a>
                  </li>
                  <li>
                    <a href="#balances" class="toc-h2 toc-link" data-title="balances">
                      Balances
                        <ul class="toc-list-h3">
                            <li>
                              <a href="#get-contract-balances" class="toc-h3 toc-link" data-title="GET Contract Balances">GET Contract Balances</a>
                            </li>
                        </ul>
                    </a>
                  </li>
                  <li>
                    <a href="#errors" class="toc-h2 toc-link" data-title="errors">
                      Errors
                    </a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#websocket" class="toc-h1 toc-link" data-title="websocket">Websocket</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#introduction-3" class="toc-h2 toc-link" data-title="introduction">
                      Introduction
                    </a>
                  </li>
                  <li>
                    <a href="#connection-endpoints" class="toc-h2 toc-link" data-title="connection-endpoints">
                      Connection Endpoints
                    </a>
                  </li>
                  <li>
                    <a href="#event-types" class="toc-h2 toc-link" data-title="event-types">
                      Event Types
                    </a>
                  </li>
                  <li>
                    <a href="#rooms" class="toc-h2 toc-link" data-title="rooms">
                      Rooms
                    </a>
                  </li>
                  <li>
                    <a href="#offer-book" class="toc-h2 toc-link" data-title="offer-book">
                      Offer Book
                        <ul class="toc-list-h3">
                            <li>
                              <a href="#socket-connection" class="toc-h3 toc-link" data-title="Socket Connection">Socket Connection</a>
                            </li>
                            <li>
                              <a href="#all-event" class="toc-h3 toc-link" data-title="All Event">All Event</a>
                            </li>
                            <li>
                              <a href="#updates-event" class="toc-h3 toc-link" data-title="Updates Event">Updates Event</a>
                            </li>
                        </ul>
                    </a>
                  </li>
                  <li>
                    <a href="#trade-events" class="toc-h2 toc-link" data-title="trade-events">
                      Trade Events
                        <ul class="toc-list-h3">
                            <li>
                              <a href="#socket-connection-2" class="toc-h3 toc-link" data-title="Socket Connection">Socket Connection</a>
                            </li>
                            <li>
                              <a href="#all-event-2" class="toc-h3 toc-link" data-title="All Event">All Event</a>
                            </li>
                            <li>
                              <a href="#updates-event-2" class="toc-h3 toc-link" data-title="Updates Event">Updates Event</a>
                            </li>
                        </ul>
                    </a>
                  </li>
                  <li>
                    <a href="#order-events" class="toc-h2 toc-link" data-title="order-events">
                      Order Events
                        <ul class="toc-list-h3">
                            <li>
                              <a href="#socket-connection-3" class="toc-h3 toc-link" data-title="Socket Connection">Socket Connection</a>
                            </li>
                            <li>
                              <a href="#all-event-3" class="toc-h3 toc-link" data-title="All Event">All Event</a>
                            </li>
                            <li>
                              <a href="#more-event" class="toc-h3 toc-link" data-title="More Event">More Event</a>
                            </li>
                            <li>
                              <a href="#updates-event-3" class="toc-h3 toc-link" data-title="Updates Event">Updates Event</a>
                            </li>
                        </ul>
                    </a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#troubleshooting" class="toc-h1 toc-link" data-title="troubleshooting">Troubleshooting</a>
          </li>
          <li>
            <a href="#data-types" class="toc-h1 toc-link" data-title="data-types">Data Types</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#addresses" class="toc-h2 toc-link" data-title="addresses">
                      Addresses
                        <ul class="toc-list-h3">
                            <li>
                              <a href="#neo-addresses" class="toc-h3 toc-link" data-title="NEO Addresses">NEO Addresses</a>
                            </li>
                            <li>
                              <a href="#ethereum-addresses" class="toc-h3 toc-link" data-title="Ethereum Addresses">Ethereum Addresses</a>
                            </li>
                        </ul>
                    </a>
                  </li>
                  <li>
                    <a href="#amounts" class="toc-h2 toc-link" data-title="amounts">
                      Amounts
                    </a>
                  </li>
                  <li>
                    <a href="#private-keys" class="toc-h2 toc-link" data-title="private-keys">
                      Private Keys
                    </a>
                  </li>
                  <li>
                    <a href="#contract-hashes" class="toc-h2 toc-link" data-title="contract-hashes">
                      Contract Hashes
                    </a>
                  </li>
                  <li>
                    <a href="#signatures" class="toc-h2 toc-link" data-title="signatures">
                      Signatures
                    </a>
                  </li>
                  <li>
                    <a href="#timestamps" class="toc-h2 toc-link" data-title="timestamps">
                      Timestamps
                    </a>
                  </li>
              </ul>
          </li>
      </div>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='overview'>Overview</h1><h2 id='introduction'>Introduction</h2>
<p>This documentation is intended for developers who want to write applications to interact with <a href="https://switcheo.network">Switcheo</a> programatically.</p>

<p>Before you proceed with the API documentation, be sure to explore Switcheo Exchange at
<a href="https://switcheo.exchange">https://switcheo.exchange</a>.</p>

<p>Switcheo Exchange offers both a fully featured <a href="#rest-api">REST API</a> for exchange information, order placement, historical and current data, as well as a <a href="#streaming-api">Streaming API</a> for real-time trading data.</p>

<p>Official language bindings for Javascript (API wrapper) can be found at <a href="https://github.com/Switcheo/switcheo-js">switcheo-js</a>.</p>

<p>You may wish to visit the <a href="https://github.com/Switcheo/awesome-switcheo">Awesome Switcheo</a> repo which contains multiple API wrappers for other languages, and also hosts every awesome project relating to Switcheo development.</p>
<h2 id='sandbox'>Sandbox</h2>
<p><strong>TestNet (Sandbox) Endpoints</strong></p>

<table><thead>
<tr>
<th>Type</th>
<th>Base URL</th>
</tr>
</thead><tbody>
<tr>
<td>UI</td>
<td><a href="https://beta.switcheo.exchange">https://beta.switcheo.exchange</a></td>
</tr>
<tr>
<td>API</td>
<td><a href="https://test-api.switcheo.network">https://test-api.switcheo.network</a></td>
</tr>
<tr>
<td>WS</td>
<td><a href="wss://test-ws.switcheo.io">wss://test-ws.switcheo.io</a></td>
</tr>
</tbody></table>

<p><strong>MainNet (Production Exchange) Endpoints</strong></p>

<table><thead>
<tr>
<th>Type</th>
<th>Base URL</th>
</tr>
</thead><tbody>
<tr>
<td>UI</td>
<td><a href="https://switcheo.exchange">https://switcheo.exchange</a></td>
</tr>
<tr>
<td>API</td>
<td><a href="https://api.switcheo.network">https://api.switcheo.network</a></td>
</tr>
<tr>
<td>WS</td>
<td><a href="wss://ws.switcheo.io">wss://ws.switcheo.io</a></td>
</tr>
</tbody></table>
<h1 id='rest'>REST</h1><h2 id='introduction-2'>Introduction</h2>
<p>The REST APIs are feature complete, allowing developers to build their own applications on top of Switcheo Exchange.</p>

<p>All API requests and responses use the JSON format.</p>

<p>There are two types of REST API endpoints available:</p>

<p><strong>Public</strong>  </p>

<p>These public endpoints include:</p>

<ul>
<li>GET <a href="#get-announcements">Announcements</a></li>
<li>GET <a href="#get-candlesticks">Candlesticks</a></li>
<li>GET <a href="#get-contract-balances">Contract Balances</a></li>
<li>GET <a href="#get-contracts">Contracts</a></li>
<li>GET <a href="#get-fees">Fees</a></li>
<li>GET <a href="#get-last-24-hours">Last 24 Hours</a></li>
<li>GET <a href="#get-last-price">Last Price</a></li>
<li>GET <a href="#get-offer-book">Offer Book</a></li>
<li>GET <a href="#get-order">Order</a></li>
<li>GET <a href="#get-order-book">Order Book</a></li>
<li>GET <a href="#get-orders">Orders</a></li>
<li>GET <a href="#get-pairs">Pairs</a></li>
<li>GET <a href="#get-recent-trades">Recent Trades</a></li>
<li>GET <a href="#get-timestamp">Timestamp</a></li>
<li>GET <a href="#get-tokens">Tokens</a></li>
<li>GET <a href="#get-trades">Trades</a></li>
</ul>

<p><strong>Private</strong>  </p>

<p>All private endpoints must be authenticated.  </p>

<p>These private endpoints include:</p>

<ul>
<li>POST <a href="#post-create-cancellation">Create Cancellation</a></li>
<li>POST <a href="#post-create-deposit">Create Deposit</a></li>
<li>POST <a href="#post-create-order">Create Order</a></li>
<li>POST <a href="#post-create-withdrawal">Create Withdrawal</a></li>
<li>POST <a href="#post-execute-cancellation">Execute Cancellation</a></li>
<li>POST <a href="#post-execute-eth-deposit">Execute ETH Deposit</a></li>
<li>POST <a href="#post-execute-neo-deposit">Execute NEO Deposit</a></li>
<li>POST <a href="#post-execute-order">Execute Order</a></li>
<li>POST <a href="#post-execute-withdrawal">Execute Withdrawal</a></li>
</ul>

<p>The base URLs for the REST API are:</p>

<table><thead>
<tr>
<th>Type</th>
<th>Base URL</th>
</tr>
</thead><tbody>
<tr>
<td>Sandbox / TestNet</td>
<td><a href="https://test-api.switcheo.exchange/">https://test-api.switcheo.network/</a></td>
</tr>
<tr>
<td>Production / MainNet</td>
<td><a href="https://api.switcheo.network">https://api.switcheo.network</a></td>
</tr>
</tbody></table>
<h2 id='rate-limits'>Rate Limits</h2>
<p>All endpoints are rate-limited. We use a dynamic algorithm for determining these limits. The HTTP error code <code>429</code> will be returned if this limit is exceeded. You should implement an exponential backoff strategy when encountering this error code.</p>
<h2 id='exchange-information'>Exchange Information</h2>
<p>This section consists of endpoints that allows retrieval of Switcheo Exchange information.</p>

<p>Authentication is not required for these endpoints.</p>
<h3 id='get-timestamp'>GET Timestamp</h3>
<p>Retrieve the current epoch <a href="#timestamp">timestamp</a> in the exchange.</p>
<h4 id='http-request'>HTTP Request</h4>
<p><code>GET /v2/exchange/timestamp</code></p>

<blockquote>
<p>Example response</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"timestamp"</span><span class="p">:</span> <span class="mi">1534392760908</span>
<span class="p">}</span>
</code></pre><h4 id='notes'>Notes</h4>
<p>This value should be fetched and used when a timestamp parameter is required for API requests.</p>

<p>If the timestamp used for your API request is not within an acceptable range of the exchange&#39;s timestamp then an invalid signature error will be returned. The acceptable range might vary, but it should be less than one minute.</p>
<h3 id='get-contracts'>GET Contracts</h3><h4 id='http-request-2'>HTTP Request</h4>
<p><code>GET /v2/exchange/contracts</code></p>

<blockquote>
<p>Example response</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
    <span class="s2">"NEO"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"V1"</span><span class="p">:</span> <span class="s2">"&lt;contract hash NEO 1&gt;"</span><span class="p">,</span>
        <span class="s2">"V1_5"</span><span class="p">:</span> <span class="s2">"&lt;contract hash NEO 1.5&gt;"</span><span class="p">,</span>
        <span class="s2">"V2"</span><span class="p">:</span> <span class="s2">"&lt;contract hash NEO 2&gt;"</span>
    <span class="p">},</span>
    <span class="s2">"ETH"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"V1"</span><span class="p">:</span> <span class="s2">"&lt;contract address ETH V1&gt;"</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<p>Returns the current deployed contract hashes by Switcheo Exchange.</p>

<p>Please note that a different set of contract hashes should be used
depending on the network you intend to interact with.</p>

<table><thead>
<tr>
<th>Network</th>
<th>URL</th>
</tr>
</thead><tbody>
<tr>
<td>TestNet</td>
<td>Retrieve contract hashes from [TestNet_URL]/v2/exchange/contracts</td>
</tr>
<tr>
<td>MainNet</td>
<td>Retrieve contract hashes from [MainNet_URL]/v2/exchange/contracts</td>
</tr>
</tbody></table>

<p>ETH contract hashes should always include a <code>0x</code> prefix, while NEO contract hashes should never
includes a <code>0x</code> prefix.</p>
<h3 id='get-latest-contracts'>GET Latest Contracts</h3><h4 id='http-request-3'>HTTP Request</h4>
<p><code>GET /v2/exchange/latest_contracts</code></p>

<blockquote>
<p>Example response</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
    <span class="s2">"NEO"</span><span class="p">:</span> <span class="s2">"d524fbb2f83f396368bc0183f5e543cae54ef532"</span><span class="p">,</span>
    <span class="s2">"ETH"</span><span class="p">:</span> <span class="s2">"0x6ee18298fd6bc2979df9d27569842435a7d55e65"</span><span class="p">,</span>
    <span class="s2">"EOS"</span><span class="p">:</span> <span class="s2">"oboluswitch4"</span><span class="p">,</span>
    <span class="s2">"QTUM"</span><span class="p">:</span> <span class="s2">"0x2b25406b0000c3661e9c88890690fd4b5c7b4234"</span>
<span class="p">}</span>
</code></pre>
<p>Returns the latest deployed contract hashes by Switcheo Exchange.</p>

<p>Please note that a different set of contract hashes should be used
depending on the network you intend to interact with.</p>

<table><thead>
<tr>
<th>Network</th>
<th>URL</th>
</tr>
</thead><tbody>
<tr>
<td>TestNet</td>
<td>Retrieve contract hashes from [TestNet_URL]/v2/exchange/latest_contracts</td>
</tr>
<tr>
<td>MainNet</td>
<td>Retrieve contract hashes from [MainNet_URL]/v2/exchange/latest_contracts</td>
</tr>
</tbody></table>

<p>ETH contract hashes should always include a <code>0x</code> prefix, while NEO contract hashes should never
includes a <code>0x</code> prefix.</p>
<h3 id='get-pairs'>GET Pairs</h3>
<p>Retrieve available trading pairs on Switcheo Exchange filtered by the <code>base</code> parameter. Defaults to all pairs.</p>
<h4 id='http-request-4'>HTTP Request</h4>
<p><code>GET /v2/exchange/pairs</code></p>

<blockquote>
<p>Example response without details</p>
</blockquote>
<pre class="highlight javascript"><code><span class="c1">// GET /v2/exchange/pairs?bases=["NEO"]&amp;show_details=0</span>
<span class="p">[</span>
  <span class="s2">"GAS_NEO"</span><span class="p">,</span>
  <span class="s2">"SWTH_NEO"</span><span class="p">,</span>
  <span class="p">...</span>
<span class="p">]</span>

</code></pre>
<blockquote>
<p>Example response with details</p>
</blockquote>
<pre class="highlight javascript"><code><span class="c1">// GET /v2/exchange/pairs?bases=["NEO"]&amp;show_details=1</span>
<span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"GAS_NEO"</span><span class="p">,</span>
        <span class="s2">"price_precision"</span><span class="p">:</span> <span class="mi">3</span>
    <span class="p">},</span>
    <span class="p">{</span>
        <span class="s2">"name"</span><span class="p">:</span> <span class="s2">"SWTH_NEO"</span><span class="p">,</span>
        <span class="s2">"price_precision"</span><span class="p">:</span> <span class="mi">6</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="p">...</span>
<span class="p">]</span>

</code></pre><h4 id='request-parameters'>Request parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>bases</td>
<td>Array&lt;string&gt;</td>
<td>no</td>
<td>Provides pairs for these base symbols.</td>
</tr>
<tr>
<td>show_details</td>
<td>Boolean</td>
<td>no</td>
<td>Show further details for token. Defaults to <code>0</code></td>
</tr>
</tbody></table>
<h4 id='response-parameters-for-code-show_details-0-code'>Response parameters for <code>show_details=0</code></h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Array</td>
<td>List of token pairings (ticker) <code>&lt;QUOTE&gt;_&lt;BASE&gt;</code> where <code>&lt;QUOTE&gt;</code> is the trading token symbol (e.g. <code>SWTH</code>), while <code>&lt;BASE&gt;</code> is the base token symbol (e.g. <code>NEO</code>)</td>
</tr>
</tbody></table>
<h4 id='response-parameters-for-code-show_details-1-code'>Response parameters for <code>show_details=1</code></h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>name</td>
<td>The ticker name as <code>&lt;QUOTE&gt;_&lt;BASE&gt;</code> where <code>&lt;QUOTE&gt;</code> is the trading token symbol (e.g. <code>SWTH</code>), while <code>&lt;BASE&gt;</code> is the base token symbol (e.g. <code>NEO</code>)</td>
</tr>
<tr>
<td>precision</td>
<td>The maximum price precision that can be submitted (e.g. if precision is <code>2</code>, an order on this pair for <code>1.99</code> or <code>1.90000000</code> price is valid, but <code>1.999</code> is not)</td>
</tr>
</tbody></table>
<h3 id='get-tokens'>GET Tokens</h3>
<p>Retrieve a list of supported tokens on Switcheo.</p>
<h4 id='http-request-5'>HTTP Request</h4>
<p><code>GET /v2/exchange/tokens</code></p>

<blockquote>
<p>Example response</p>
</blockquote>
<pre class="highlight javascript"><code><span class="c1">// GET /v2/exchange/tokens?show_listing_details=1&amp;show_inactive=1</span>
<span class="p">{</span>
  <span class="s2">"NEO"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"hash"</span><span class="p">:</span> <span class="s2">"c56f33fc6ecfcd0c225c4ab356fee59390af8560be0e930faebe74a6daff7c9b"</span><span class="p">,</span>
        <span class="s2">"decimals"</span><span class="p">:</span> <span class="mi">8</span><span class="p">,</span>
        <span class="s2">"precision"</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
        <span class="s2">"trading_active"</span><span class="p">:</span> <span class="kc">true</span>
        <span class="s2">"active"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="s2">"listing_info"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">"deposits"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">"start"</span><span class="p">:</span> <span class="mi">1514764800</span><span class="p">,</span>
                <span class="s2">"end"</span><span class="p">:</span> <span class="mi">7983792000</span><span class="p">,</span>
                <span class="s2">"paused"</span><span class="p">:</span> <span class="kc">false</span>
            <span class="p">},</span>
            <span class="s2">"trading"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">"start"</span><span class="p">:</span> <span class="mi">1514764800</span><span class="p">,</span>
                <span class="s2">"end"</span><span class="p">:</span> <span class="mi">7983792000</span><span class="p">,</span>
                <span class="s2">"paused"</span><span class="p">:</span> <span class="kc">false</span>
            <span class="p">},</span>
            <span class="s2">"cancellations"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">"start"</span><span class="p">:</span> <span class="mi">1514764800</span><span class="p">,</span>
                <span class="s2">"end"</span><span class="p">:</span> <span class="mi">7983792000</span><span class="p">,</span>
                <span class="s2">"paused"</span><span class="p">:</span> <span class="kc">false</span>
            <span class="p">},</span>
            <span class="s2">"withdrawals"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">"start"</span><span class="p">:</span> <span class="mi">1514764800</span><span class="p">,</span>
                <span class="s2">"end"</span><span class="p">:</span> <span class="mi">7983792000</span><span class="p">,</span>
                <span class="s2">"paused"</span><span class="p">:</span> <span class="kc">false</span>
            <span class="p">}</span>
        <span class="p">}</span>

 <span class="p">},</span>
  <span class="p">...</span>
  <span class="s2">"SWC"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"hash"</span><span class="p">:</span> <span class="s2">"0x00bb907302e508707108cd835621dfd2b44ca7cf"</span><span class="p">,</span>
        <span class="s2">"decimals"</span><span class="p">:</span> <span class="mi">18</span><span class="p">,</span>
        <span class="s2">"precision"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
        <span class="s2">"trading_active"</span><span class="p">:</span> <span class="kc">true</span>
        <span class="s2">"active"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
        <span class="s2">"listing_info"</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">"deposits"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">"start"</span><span class="p">:</span> <span class="mi">1514764800</span><span class="p">,</span>
                <span class="s2">"end"</span><span class="p">:</span> <span class="mi">7983792000</span><span class="p">,</span>
                <span class="s2">"paused"</span><span class="p">:</span> <span class="kc">false</span>
            <span class="p">},</span>
            <span class="s2">"trading"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">"start"</span><span class="p">:</span> <span class="mi">1514764800</span><span class="p">,</span>
                <span class="s2">"end"</span><span class="p">:</span> <span class="mi">7983792000</span><span class="p">,</span>
                <span class="s2">"paused"</span><span class="p">:</span> <span class="kc">false</span>
            <span class="p">},</span>
            <span class="s2">"cancellations"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">"start"</span><span class="p">:</span> <span class="mi">1514764800</span><span class="p">,</span>
                <span class="s2">"end"</span><span class="p">:</span> <span class="mi">7983792000</span><span class="p">,</span>
                <span class="s2">"paused"</span><span class="p">:</span> <span class="kc">false</span>
            <span class="p">},</span>
            <span class="s2">"withdrawals"</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">"start"</span><span class="p">:</span> <span class="mi">1514764800</span><span class="p">,</span>
                <span class="s2">"end"</span><span class="p">:</span> <span class="mi">7983792000</span><span class="p">,</span>
                <span class="s2">"paused"</span><span class="p">:</span> <span class="kc">false</span>
            <span class="p">}</span>
        <span class="p">}</span>
   <span class="p">}</span>
  <span class="p">...</span>
<span class="p">}</span>
</code></pre><h4 id='request-parameters-2'>Request parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>show_listing_details</td>
<td>Boolean</td>
<td>no</td>
<td>Show all details for each token. If <code>false</code>, only <code>hash</code> &amp; <code>decimals</code> are returned, otherwise all parameters below are returned. Defaults to <code>false</code></td>
</tr>
<tr>
<td>show_inactive</td>
<td>Boolean</td>
<td>no</td>
<td>Show inactive tokens. Default to <code>false</code>)</td>
</tr>
</tbody></table>
<h4 id='response-parameters'>Response parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>hash</td>
<td>Contract hash of the token</td>
</tr>
<tr>
<td>decimals</td>
<td>Number of decimal places to use when submitting order amounts (e.g. if a token has <code>8</code> <code>decimals</code>, then an order for <code>1.2</code> tokens should be submitted as <code>120000000</code>)</td>
</tr>
<tr>
<td>precision</td>
<td>The maximum amount precision that can be submitted in orders (e.g. if a token has <code>8</code> <code>decimals</code> and <code>2</code> precision, <code>123000000</code> would be a valid order amount to submit, but not <code>12340000</code>)</td>
</tr>
<tr>
<td>minimum_quantity</td>
<td>The minimum order amount for any orders submitted involving this token. Note that this applies to both the order <code>want_amount</code> and <code>offer_amount</code> (or <code>quantity</code>, if using new format).</td>
</tr>
<tr>
<td>trading_active</td>
<td>Whether this token is currently actively trading</td>
</tr>
<tr>
<td>active</td>
<td>Whether this token is currently visible on the Switcheo Exchange UI</td>
</tr>
<tr>
<td>listing_info</td>
<td>Status of the token for trading activities <code>[&quot;deposits&quot;, &quot;trading&quot;, &quot;cancellations&quot;, &quot;withdrawals&quot;]</code>  (only returned if <code>show_listing_details</code> is truthy)</td>
</tr>
<tr>
<td>start</td>
<td>Starting time for the activity (in epoch seconds)</td>
</tr>
<tr>
<td>end</td>
<td>Ending time for the activity (in epoch seconds)</td>
</tr>
<tr>
<td>paused</td>
<td>Whether the trading of the token is temporarily paused</td>
</tr>
</tbody></table>
<h3 id='get-fees'>GET Fees</h3>
<blockquote>
<p>Example response</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"maker"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"default"</span><span class="p">:</span> <span class="mi">0</span>
    <span class="p">},</span>
    <span class="s2">"taker"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"default"</span><span class="p">:</span> <span class="mf">0.002</span>
    <span class="p">},</span>
    <span class="s2">"network_fee_subsidy_threshold"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"neo"</span><span class="p">:</span> <span class="mf">0.1</span><span class="p">,</span>
      <span class="s2">"eth"</span><span class="p">:</span> <span class="mf">0.1</span>
    <span class="p">},</span>
    <span class="s2">"max_taker_fee_ratio"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"neo"</span><span class="p">:</span> <span class="mf">0.005</span><span class="p">,</span>
      <span class="s2">"eth"</span><span class="p">:</span> <span class="mf">0.1</span>
    <span class="p">},</span>
    <span class="s2">"native_fee_discount"</span><span class="p">:</span> <span class="mf">0.75</span><span class="p">,</span>
    <span class="s2">"native_fee_asset_id"</span><span class="p">:</span> <span class="s2">"ab38352559b8b203bde5fddfa0b07d8b2525e132"</span><span class="p">,</span>
    <span class="s2">"enforce_native_fees"</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">"RHT"</span><span class="p">,</span>
      <span class="s2">"RHTC"</span>
    <span class="p">],</span>
    <span class="s2">"native_fee_exchange_rates"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"NEO"</span><span class="p">:</span> <span class="s2">"952.38095238"</span><span class="p">,</span>
        <span class="s2">"GAS"</span><span class="p">:</span> <span class="s2">"297.14285714"</span><span class="p">,</span>
        <span class="p">...</span>
        <span class="s2">"ETH"</span><span class="p">:</span> <span class="s2">"0"</span><span class="p">,</span>
        <span class="s2">"JRC"</span><span class="p">:</span> <span class="s2">"0"</span><span class="p">,</span>
        <span class="s2">"SWC"</span><span class="p">:</span> <span class="s2">"0"</span>
    <span class="p">},</span>
    <span class="s2">"network_fees"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"eth"</span><span class="p">:</span> <span class="s2">"2466000000000000"</span><span class="p">,</span>
      <span class="s2">"neo"</span><span class="p">:</span> <span class="s2">"200000"</span>
    <span class="p">},</span>
    <span class="s2">"network_fees_for_wdl"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"eth"</span><span class="p">:</span> <span class="s2">"873000000000000"</span><span class="p">,</span>
      <span class="s2">"neo"</span><span class="p">:</span> <span class="s2">"0"</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">]</span>

</code></pre>
<p>Returns fee data for various blockchains and pairs</p>
<h4 id='http-request-6'>HTTP Request</h4>
<p><code>GET /v2/fees</code></p>
<h4 id='response-parameters-2'>Response parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>maker / default</td>
<td>Default trading fee rate for maker orders, before any discount and network fees</td>
</tr>
<tr>
<td>taker / default</td>
<td>Default trading rate for taker orders, before any discount and network fees</td>
</tr>
<tr>
<td>network_fee_subsidy_threshold</td>
<td>The rate used against your trade proceeds at which network fees will be capped at. (E.g. Assuming <code>network_fee_subsidy_threshold</code> is 0.1 and the your total trade proceeds is 0.2 ETH, the payable network fee will not exceed 0.02 ETH.)</td>
</tr>
<tr>
<td>native_fee_discount</td>
<td>Discount applied to fee for use of native token (as a multiplier). Discount Rate is 1 - <code>native_fee_discount</code></td>
</tr>
<tr>
<td>native_fee_asset_id</td>
<td>NEO contract hash of the Native Token (i.e. <code>SWTH</code>)</td>
</tr>
<tr>
<td>enforce_native_fee</td>
<td>List of asset tickers where fee <strong>must</strong> be paid in Native Tokens</td>
</tr>
<tr>
<td>native_fee_exchange_rates</td>
<td>List of token:value tuples, containing the exchange rate in Native Token</td>
</tr>
<tr>
<td>network_fees</td>
<td>Network Trading fee in the smallest denomination of the native network token</td>
</tr>
<tr>
<td>network_fees_for_wdl</td>
<td>Network Withdrawal fee in the smallest denomination of the native network token</td>
</tr>
</tbody></table>
<h3 id='get-announcements'>GET Announcements</h3>
<p>Retrieve the currently active Switcheo Exchange Announcement</p>
<h4 id='http-request-7'>HTTP Request</h4>
<p><code>GET /v2/exchange/announcement_message</code></p>

<blockquote>
<p>Example response</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"messages"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"message"</span><span class="p">:</span> <span class="s2">"&lt;span&gt;Welcome onboard to &lt;a href=\"https://medium.com/switcheo/callisto-is-now-live-de940a62f1a4\" target=\\\"blank\\\"&gt;Switcheo&lt;/a&gt;, the first decentralized exchange on Ethereum and NEO.&lt;/span&gt;"</span><span class="p">,</span>
      <span class="s2">"message_type"</span><span class="p">:</span> <span class="s2">"alert"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"message"</span><span class="p">:</span> <span class="s2">"&lt;span&gt;To access the legacy UI, please visit: &lt;a href=\"https://legacy.switcheo.exchange\" target=\\\"blank\\\"&gt;https://legacy.switcheo.exchange/&lt;/a&gt;&lt;/span&gt;"</span><span class="p">,</span>
      <span class="s2">"message_type"</span><span class="p">:</span> <span class="s2">"info"</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">"updated_at"</span><span class="p">:</span> <span class="s2">"20181203"</span>
<span class="p">}</span>
</code></pre><h4 id='response-parameters-3'>Response parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>messages</td>
<td>A list of messages</td>
</tr>
<tr>
<td>updated_at</td>
<td>Last updated date in <code>YYYYMMDD</code> format</td>
</tr>
</tbody></table>
<h3 id='get-swap-pairs'>GET Swap Pairs</h3>
<p>Retrieve available swap pairs on Switcheo Exchange.</p>
<h4 id='http-request-8'>HTTP Request</h4>
<p><code>GET /v2/exchange/swap_pairs</code></p>

<blockquote>
<p>Example response</p>
</blockquote>
<pre class="highlight javascript"><code><span class="c1">// GET /v2/exchange/swap_pairs</span>
<span class="p">[</span>
  <span class="s2">"SWTH_ETH"</span><span class="p">,</span>
  <span class="p">...</span>
<span class="p">]</span>

</code></pre><h3 id='get-swap-pricing'>GET Swap Pricing</h3>
<p>Atomic Swap orders can be submitted using the <a href="#post-create-order">create order</a> endpoint.
The amount that will be received for an offer amount is calculated by the Constant Product formula:</p>

<p><code>x_receive = x - k / (y + y_give)</code></p>

<ul>
<li>x is the amount of asset X in the liquidity pool</li>
<li>y is the amount of asset Y in the liquidity pool</li>
<li>x_receive is the amount of asset X that the order submitter will receive</li>
<li>y_give is the amount of asset Y that the order submitter wants to give</li>
<li>k is x * y</li>
</ul>

<p>For example, if the pair is SWTH / ETH, and the amount of SWTH in the liquidity pool is 3.6 million SWTH,
and the amount of ETH in the liquidity pool is 100 ETH, then for buying SWTH with 1 ETH, the order submitter would receive 35643.56436 SWTH:</p>

<p><code>3.6 million - 360 million / (100 + 1) = 35643.56436 SWTH</code></p>

<p>The values of x and y can be fetched from the swap pricing endpoint.</p>
<h4 id='http-request-9'>HTTP Request</h4>
<p><code>GET /v2/exchange/swap_pricing</code></p>

<blockquote>
<p>Example response</p>
</blockquote>
<pre class="highlight javascript"><code><span class="c1">// GET /v2/exchange/swap_pricing?pair=SWTH_ETH</span>
<span class="p">{</span>
    <span class="s2">"buy"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"x"</span><span class="p">:</span> <span class="s2">"449293223000000"</span><span class="p">,</span>
        <span class="s2">"y"</span><span class="p">:</span> <span class="s2">"122561935387988990000"</span><span class="p">,</span>
        <span class="s2">"k"</span><span class="p">:</span> <span class="s2">"55066246967587328805614770000000000"</span>
    <span class="p">},</span>
    <span class="s2">"sell"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"x"</span><span class="p">:</span> <span class="s2">"122561935387988990000"</span><span class="p">,</span>
        <span class="s2">"y"</span><span class="p">:</span> <span class="s2">"449293223000000"</span><span class="p">,</span>
        <span class="s2">"k"</span><span class="p">:</span> <span class="s2">"55066246967587328805614770000000000"</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre><h4 id='request-parameters-3'>Request parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pair</td>
<td>String</td>
<td>yes</td>
<td>The <a href="#get-swap-pairs">swap pair</a> to get the swap pricing of</td>
</tr>
</tbody></table>
<h3 id='get-atomic-swap-contracts'>GET Atomic Swap Contracts</h3><h4 id='http-request-10'>HTTP Request</h4>
<p><code>GET /v2/exchange/atomic_swap_contracts</code></p>

<blockquote>
<p>Example response</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
    <span class="s2">"ETH"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"V1"</span><span class="p">:</span> <span class="s2">"&lt;contract hash&gt;"</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<p>Returns the current atomic swap contract hashes.</p>

<p>Please note that a different set of contract hashes should be used
depending on the network you intend to interact with.</p>

<table><thead>
<tr>
<th>Network</th>
<th>URL</th>
</tr>
</thead><tbody>
<tr>
<td>TestNet</td>
<td>Retrieve contract hashes from [TestNet_URL]/v2/exchange/atomic_swap_contracts</td>
</tr>
<tr>
<td>MainNet</td>
<td>Retrieve contract hashes from [MainNet_URL]/v2/exchange/atomic_swap_contracts</td>
</tr>
</tbody></table>
<h2 id='tickers'>Tickers</h2>
<p>Ticker endpoints allow retrieval of aggregated market data.</p>

<p>Authentication is not required for these endpoints.</p>
<h3 id='get-candlesticks'>GET Candlesticks</h3>
<p>Returns candlestick chart data filtered by url parameters.</p>
<h4 id='http-request-11'>HTTP Request</h4>
<p><code>GET /v2/tickers/candlesticks</code></p>

<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"pair"</span><span class="p">:</span> <span class="s2">"SWTH_NEO"</span><span class="p">,</span>
  <span class="s2">"interval"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="s2">"start_time"</span><span class="p">:</span> <span class="mi">1531213200</span><span class="p">,</span>
  <span class="s2">"end_time"</span><span class="p">:</span> <span class="mi">1531220400</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example response</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"time"</span><span class="p">:</span> <span class="s2">"1531215240"</span><span class="p">,</span>
    <span class="s2">"open"</span><span class="p">:</span> <span class="s2">"0.00049408"</span><span class="p">,</span>
    <span class="s2">"close"</span><span class="p">:</span> <span class="s2">"0.00049238"</span><span class="p">,</span>
    <span class="s2">"high"</span><span class="p">:</span> <span class="s2">"0.000497"</span><span class="p">,</span>
    <span class="s2">"low"</span><span class="p">:</span> <span class="s2">"0.00048919"</span><span class="p">,</span>
    <span class="s2">"volume"</span><span class="p">:</span> <span class="s2">"110169445.0"</span><span class="p">,</span>
    <span class="s2">"quote_volume"</span><span class="p">:</span> <span class="s2">"222900002152.0"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"time"</span><span class="p">:</span> <span class="s2">"1531219800"</span><span class="p">,</span>
    <span class="s2">"open"</span><span class="p">:</span> <span class="s2">"0.00050366"</span><span class="p">,</span>
    <span class="s2">"close"</span><span class="p">:</span> <span class="s2">"0.00049408"</span><span class="p">,</span>
    <span class="s2">"high"</span><span class="p">:</span> <span class="s2">"0.00050366"</span><span class="p">,</span>
    <span class="s2">"low"</span><span class="p">:</span> <span class="s2">"0.00049408"</span><span class="p">,</span>
    <span class="s2">"volume"</span><span class="p">:</span> <span class="s2">"102398958.0"</span><span class="p">,</span>
    <span class="s2">"quote_volume"</span><span class="p">:</span> <span class="s2">"205800003323.0"</span>
  <span class="p">},</span>
  <span class="p">...</span>
<span class="p">]</span>

</code></pre><h4 id='request-parameters-4'>Request parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pair</td>
<td><strong>string</strong></td>
<td>yes</td>
<td>Only show chart data of this <a href="#pairs">trading pair</a></td>
</tr>
<tr>
<td>start_time</td>
<td><strong>integer</strong></td>
<td>yes</td>
<td>Start of time range for data in epoch <strong>seconds</strong></td>
</tr>
<tr>
<td>end_time</td>
<td><strong>integer</strong></td>
<td>yes</td>
<td>End of time range for data in epoch <strong>seconds</strong></td>
</tr>
<tr>
<td>interval</td>
<td><strong>integer</strong></td>
<td>yes</td>
<td>Candlestick period in minutes Possible values are: 1, 5, 30, 60, 360, 1440</td>
</tr>
</tbody></table>
<h4 id='response-parameters-4'>Response parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>time</td>
<td>Epoch time for the beginning of the interval (in seconds).</td>
</tr>
<tr>
<td>open</td>
<td>Opening price at the start of the interval.</td>
</tr>
<tr>
<td>close</td>
<td>Closing price at the end of the interval.</td>
</tr>
<tr>
<td>high</td>
<td>Highest price during the interval.</td>
</tr>
<tr>
<td>low</td>
<td>Lowest price during the interval.</td>
</tr>
<tr>
<td>volume</td>
<td>Volume in base token traded during the interval.</td>
</tr>
<tr>
<td>quote_volume</td>
<td>Volume in quoted token traded during the interval.</td>
</tr>
</tbody></table>
<h3 id='get-last-24-hours'>GET Last 24 Hours</h3>
<p>Returns 24-hour data for all pairs and markets.</p>
<h4 id='http-request-12'>HTTP Request</h4>
<p><code>GET /v2/tickers/last_24_hours</code></p>

<blockquote>
<p>Example response</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"pair"</span><span class="p">:</span> <span class="s2">"SWTH_NEO"</span><span class="p">,</span>
    <span class="s2">"open"</span><span class="p">:</span> <span class="s2">"0.00047221"</span><span class="p">,</span>
    <span class="s2">"close"</span><span class="p">:</span> <span class="s2">"0.00049769"</span><span class="p">,</span>
    <span class="s2">"high"</span><span class="p">:</span> <span class="s2">"1.2"</span><span class="p">,</span>
    <span class="s2">"low"</span><span class="p">:</span> <span class="s2">"0.0004563"</span><span class="p">,</span>
    <span class="s2">"volume"</span><span class="p">:</span> <span class="s2">"11897236125.0"</span><span class="p">,</span>
    <span class="s2">"quote_volume"</span><span class="p">:</span> <span class="s2">"19927606119564.0"</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"pair"</span><span class="p">:</span> <span class="s2">"GAS_NEO"</span><span class="p">,</span>
    <span class="s2">"open"</span><span class="p">:</span> <span class="s2">"0.0"</span><span class="p">,</span>
    <span class="s2">"close"</span><span class="p">:</span> <span class="s2">"0.0"</span><span class="p">,</span>
    <span class="s2">"high"</span><span class="p">:</span> <span class="s2">"0.0"</span><span class="p">,</span>
    <span class="s2">"low"</span><span class="p">:</span> <span class="s2">"0.0"</span><span class="p">,</span>
    <span class="s2">"volume"</span><span class="p">:</span> <span class="s2">"0.0"</span><span class="p">,</span>
    <span class="s2">"quote_volume"</span><span class="p">:</span> <span class="s2">"0.0"</span>
  <span class="p">}</span>
<span class="p">]</span>

</code></pre><h4 id='response-parameters-5'>Response parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>time</td>
<td>Epoch time for the beginning of the interval (in seconds).</td>
</tr>
<tr>
<td>open</td>
<td>Opening price at the start of the interval.</td>
</tr>
<tr>
<td>close</td>
<td>Closing price at the end of the interval.</td>
</tr>
<tr>
<td>high</td>
<td>Highest price during the interval.</td>
</tr>
<tr>
<td>low</td>
<td>Lowest price during the interval.</td>
</tr>
<tr>
<td>volume</td>
<td>Volume in base token traded during the interval.</td>
</tr>
<tr>
<td>quote_volume</td>
<td>Volume in quoted token traded during the interval.</td>
</tr>
</tbody></table>
<h3 id='get-last-price'>GET Last Price</h3>
<p>Returns last price of the requested symbol(s) / base(s). Defaults to all symbols &amp; bases.</p>
<h4 id='http-request-13'>HTTP Request</h4>
<p><code>GET v2/tickers/last_price</code></p>

<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"symbols"</span><span class="p">:</span> <span class="p">[</span><span class="s2">"SWTH"</span><span class="p">,</span><span class="s2">"GAS"</span><span class="p">]</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example response</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
    <span class="s2">"GAS"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"NEO"</span><span class="p">:</span> <span class="s2">"0.31200000"</span>
    <span class="p">},</span>
    <span class="s2">"SWTH"</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">"GAS"</span><span class="p">:</span> <span class="s2">"0.00410000"</span><span class="p">,</span>
        <span class="s2">"NEO"</span><span class="p">:</span> <span class="s2">"0.00106600"</span>
    <span class="p">}</span>
<span class="p">}</span>

</code></pre><h4 id='request-parameters-5'>Request parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>symbols</td>
<td><strong>array</strong></td>
<td>no</td>
<td>Return the price for only these symbols.</td>
</tr>
<tr>
<td>bases</td>
<td><strong>array</strong></td>
<td>no</td>
<td>Return the price for only these bases.</td>
</tr>
</tbody></table>
<h4 id='response-parameters-6'>Response parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><em>symbol</em></td>
<td>JSON Object containing a list of <em>base:price</em> tuples</td>
</tr>
<tr>
<td><em>base</em></td>
<td>Base token symbol</td>
</tr>
<tr>
<td><em>price</em></td>
<td>Price of <em>symbol</em> in <em>base</em> units with 8 decimal precision</td>
</tr>
</tbody></table>
<h2 id='authentication'>Authentication</h2>
<p>As a non-custodian exchange, Switcheo does not use passwords as we do not have custody of user funds.
Instead, authentication is done by signing the <strong>request payload</strong> <em>or</em> <strong>blockchain transaction</strong> using the <strong>blockchain-specific</strong> digital signature with the user&#39;s private key.</p>
<h3 id='overview-2'>Overview</h3>
<p>Currently, all supported blockchains uses the ellipitic curve digital signature algorithim (ECDSA). However, the curves and hashing algorithim used for each blockchain differs slightly.</p>

<table><thead>
<tr>
<th>Blockchain</th>
<th>Signature Algo</th>
<th>Curve</th>
<th>Hash Function</th>
</tr>
</thead><tbody>
<tr>
<td>ETH</td>
<td>ECDSA</td>
<td>secp256k1</td>
<td>SHA-3 (Keccak)</td>
</tr>
<tr>
<td>EOS</td>
<td>ECDSA</td>
<td>secp256k1</td>
<td>SHA-256</td>
</tr>
<tr>
<td>NEO</td>
<td>ECDSA</td>
<td>NIST P-256</td>
<td>SHA-256</td>
</tr>
</tbody></table>

<aside class="notice">
  IMPORTANT: Two steps are required to perform an authenticated action.
</aside>

<ol>
<li><p>In the first step:</p>

<ul>
<li>Sign the parameters of the request using the user&#39;s private key</li>
<li>Send both the raw parameters and the result of signing the parameters to the first API endpoint</li>
<li>A response with either a message or transaction will be returned</li>
</ul></li>
<li><p>In the second step:</p>

<ul>
<li>Sign the returned message or transaction with the user&#39;s private key</li>
<li>Send the signed message or transaction to the second API endpoint</li>
</ul></li>
</ol>
<h3 id='signing-messages-for-eth'>Signing Messages for ETH</h3>
<blockquote>
<p>Signing a message for ETH</p>
</blockquote>
<pre class="highlight javascript"><code><span class="kr">const</span> <span class="nx">Web3</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'web3'</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">web3</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Web3</span><span class="p">()</span>

<span class="kd">function</span> <span class="nx">signMessage</span><span class="p">(</span><span class="nx">message</span><span class="p">,</span> <span class="nx">privateKey</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">eth</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">sign</span><span class="p">(</span><span class="nx">message</span><span class="p">,</span> <span class="nx">privateKey</span><span class="p">).</span><span class="nx">signature</span>
<span class="p">}</span>
<span class="nx">signMessage</span><span class="p">(</span><span class="s1">'Hello'</span><span class="p">,</span> <span class="s1">'&lt;private key&gt;'</span><span class="p">)</span>

</code></pre>
<p>When signing messages for ETH, the message should first be hex encoded, and the prefixed as
<code>&quot;\x19Ethereum Signed Message:\n&quot; + message.length + message</code> before being signed. This is the canonical way of ensuring an arbitrary message is not also a valid Ethereum transaction.</p>

<p>The <a href="https://github.com/ethereum/web3.js/">web3.js</a> library <a href="https://web3js.readthedocs.io/en/1.0/web3-eth-accounts.html#sign">[docs]</a> can be used to sign messages for ETH.
Refer to the library&#39;s <a href="https://github.com/ethereum/web3.js/blob/1.0/packages/web3-eth-accounts/src/index.js#L255">implementation details</a> should you wish to sign messages directly.</p>
<h4 id='signing-request-parameters'>Signing Request Parameters</h4>
<blockquote>
<p>Signing parameters for API requests</p>
</blockquote>
<pre class="highlight javascript"><code><span class="c1">// 1. Serialize parameters into a string</span>
<span class="c1">// Note that parameters must be ordered alphanumerically</span>
<span class="kr">const</span> <span class="nx">rawParams</span> <span class="o">=</span> <span class="p">{</span> <span class="na">blockchain</span><span class="p">:</span> <span class="s1">'eth'</span><span class="p">,</span> <span class="na">timestamp</span><span class="p">:</span> <span class="mi">1529380859</span><span class="p">,</span> <span class="na">apple</span><span class="p">:</span> <span class="s1">'Z'</span><span class="p">,</span> <span class="p">}</span>
<span class="kr">const</span> <span class="nx">stableStringify</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'json-stable-stringify'</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">parameterString</span> <span class="o">=</span> <span class="nx">stableStringify</span><span class="p">(</span><span class="nx">rawParams</span><span class="p">)</span>
<span class="c1">// parameterString: '{"apple":"Z","blockchain":"neo","timestamp":1529380859}'</span>

<span class="c1">// 2. Sign the parameterString with the user's privateKey</span>
<span class="kr">const</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">signMessage</span><span class="p">(</span><span class="nx">parameterString</span><span class="p">,</span> <span class="s1">'&lt;private key&gt;'</span><span class="p">)</span>

<span class="c1">// 3. Combine the raw parameters with the signature</span>
<span class="c1">// to get the final parameters to send</span>
<span class="kr">const</span> <span class="nx">parametersToSend</span> <span class="o">=</span> <span class="p">{</span> <span class="p">...</span><span class="nx">rawParams</span><span class="p">,</span> <span class="nx">signature</span> <span class="p">}</span>
</code></pre>
<p>To perform an action, request parameters have to be signed to generate a signature
parameter. This signature parameter should then be sent together with the other parameters in the request.</p>

<ol>
<li>Convert the API parameters into a string, with parameters <strong>ordered alphanumerically</strong></li>
<li>Sign the result of (1) with the user&#39;s private key</li>
<li>Send the result of (2) together with the raw parameters to the API endpoint</li>
</ol>
<h4 id='example'>Example</h4>
<p>Using the following parameters as an example:</p>

<p><code>{ blockchain: &#39;eth&#39;, timestamp: 1529380859, apple: &#39;Z&#39; }</code></p>

<ol>
<li>Convert the parameters into a string with parameters ordered alphanumerically:
<code>{&quot;apple&quot;:&quot;Z&quot;,&quot;blockchain&quot;:&quot;eth&quot;,&quot;timestamp&quot;:1529380859}</code></li>
<li>Let the user&#39;s private key be
<code style=" hyphens: none;">0x98c193239bff9eb53a83e708b63b9c08d6e47900b775402aca2acc3daad06f24</code></li>
<li>Sign the result from (1) with the private key in (2) to get
<code style=" hyphens: none;">
0xbcff177dba964027085b5653a5732a68677a66c581f9c85a18e1dc23892c72d86c0b65336e8a17637fd1fe1def7fa8cbac43bf9a8b98ad9c1e21d00e304e32911c
</code></li>
</ol>
<h3 id='signing-transactions-for-eth'>Signing Transactions for ETH</h3>
<blockquote>
<p>Signing a transaction for ETH</p>
</blockquote>
<pre class="highlight javascript"><code><span class="c1">// Send the parameters for the first step of an action</span>
<span class="c1">// and retrieve the response</span>
<span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="p">...</span>
<span class="kr">const</span> <span class="p">{</span> <span class="nx">transaction</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">response</span>

<span class="c1">// verify the transaction data to ensure that it matches the user's intention</span>
<span class="p">...</span>

<span class="kr">const</span> <span class="nx">Web3</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'web3'</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">web3</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Web3</span><span class="p">()</span>

<span class="kd">function</span> <span class="nx">signTransaction</span><span class="p">(</span><span class="nx">transaction</span><span class="p">,</span> <span class="nx">privateKey</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">eth</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">signMessage</span><span class="p">(</span><span class="nx">transaction</span><span class="p">.</span><span class="nx">message</span><span class="p">,</span> <span class="nx">user</span><span class="p">.</span><span class="nx">privateKey</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// send the result to the second API endpoint</span>
<span class="kr">const</span> <span class="nx">signatureToSend</span> <span class="o">=</span> <span class="nx">signTransaction</span><span class="p">(</span><span class="nx">transaction</span><span class="p">,</span> <span class="s1">'&lt;private key&gt;'</span><span class="p">)</span>
</code></pre>
<p>The second step of an action usually requires the returned transaction to be signed. This is done by:</p>

<ol>
<li>Checking the returned transaction data to ensure it matches the user&#39;s intention</li>
<li>Signing the <code>message</code> in the transaction with the user&#39;s private key</li>
<li>An exception to this is the deposit endpoint, which requires the client to sign and broadcast the transaction, this is covered in more detail in the <a href="#deposits">Deposits</a> section.</li>
</ol>
<h3 id='signing-messages-for-eos'>Signing Messages for EOS</h3>
<blockquote>
<p>Signing a message for EOS</p>
</blockquote>
<pre class="highlight javascript"><code><span class="kr">const</span> <span class="nx">ecc</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'eosjs-ecc'</span><span class="p">)</span>
<span class="kd">function</span> <span class="nx">signMessage</span><span class="p">(</span><span class="nx">message</span><span class="p">,</span> <span class="nx">privateKey</span><span class="p">)</span> <span class="p">{</span>
  <span class="nx">ecc</span><span class="p">.</span><span class="nx">sign</span><span class="p">(</span><span class="nx">message</span><span class="p">,</span> <span class="nx">privateKey</span><span class="p">)</span>
<span class="p">}</span>
<span class="nx">signMessage</span><span class="p">(</span><span class="s1">'Hello'</span><span class="p">,</span> <span class="s1">'&lt;private key&gt;'</span><span class="p">)</span>
</code></pre>
<p>EOS messages can be signed directly without additional formatting as long as each word in the string is less than twelve characters long.</p>

<p>The <a href="https://github.com/EOSIO/eosjs-ecc">eosjs-ecc</a> library can be used to sign messages for EOS.
Refer to the library&#39;s <a href="https://github.com/EOSIO/eosjs-ecc/blob/904225d9147edbbb9ac5be3e70537a208509d729/src/api_common.js#L107">implementation details</a> should you wish to sign messages directly.</p>
<h4 id='signing-request-parameters-2'>Signing Request Parameters</h4>
<blockquote>
<p>Signing parameters for API requests</p>
</blockquote>
<pre class="highlight javascript"><code><span class="kr">const</span> <span class="nx">ecc</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'eosjs-ecc'</span><span class="p">)</span>

<span class="c1">// 1. Acquire a short-lived API key</span>

<span class="kr">const</span> <span class="nx">now</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">()</span>

<span class="c1">// The message text must be exactly followed, while the time in square brackets `[]`</span>
<span class="c1">// should be a parseable datetime format (e.g. ISO8601) that does not contain words</span>
<span class="c1">// longer than 12 characters.</span>
<span class="kr">const</span> <span class="nx">message</span> <span class="o">=</span> <span class="s2">`Issue me a 30min Switcheo API key [</span><span class="p">${</span><span class="nx">now</span><span class="p">.</span><span class="nx">toUTCString</span><span class="p">()}</span><span class="s2">]`</span>
<span class="kr">const</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">signMessage</span><span class="p">(</span><span class="nx">message</span><span class="p">,</span> <span class="s1">'5JN...privatekey'</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">apiKeyParams</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">blockchain</span><span class="p">:</span> <span class="s1">'eos'</span><span class="p">,</span>
  <span class="na">address</span><span class="p">:</span> <span class="s1">'accountname1'</span>
  <span class="na">public_key</span><span class="p">:</span> <span class="s1">'EOS5...'</span><span class="p">,</span>
  <span class="nx">message</span><span class="p">,</span>
  <span class="nx">signature</span><span class="p">,</span>
<span class="p">}</span>
<span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'/api_keys'</span><span class="p">,</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">apiKeyParams</span><span class="p">),</span>
  <span class="p">{</span> <span class="na">headers</span><span class="p">:</span> <span class="p">{</span> <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'application/json'</span> <span class="p">}</span> <span class="p">})</span>

<span class="c1">// Note that `expiresAt` is the time the `apiKey` will expire in unix **seconds**</span>
<span class="kr">const</span> <span class="p">{</span> <span class="na">key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span> <span class="na">expires_at</span><span class="p">:</span> <span class="nx">expiresAt</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">response</span>

<span class="c1">// 2. You can now use the API key for all authenticated requests for 30 minutes</span>

<span class="c1">// Ensure the API key is still valid</span>
<span class="kr">const</span> <span class="nx">timestamp</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">().</span><span class="nx">getTime</span><span class="p">()</span>
<span class="k">if</span> <span class="p">(</span><span class="nx">expiresAt</span> <span class="o">&lt;=</span> <span class="nx">timestamp</span> <span class="o">/</span> <span class="mi">1000</span> <span class="o">+</span> <span class="mi">5000</span><span class="p">)</span> <span class="p">{</span> <span class="c1">// 5 second request time buffer</span>
  <span class="c1">// app should handle getting a new API key</span>
  <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">'New API key required!'</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// Make your request by including the API key in the `Authorization` HTTP header</span>
<span class="kr">const</span> <span class="nx">actualRequestParams</span> <span class="o">=</span> <span class="p">{</span> <span class="na">blockchain</span><span class="p">:</span> <span class="s1">'eos'</span><span class="p">,</span> <span class="na">address</span><span class="p">:</span> <span class="s1">'switcheotest'</span><span class="p">,</span> <span class="na">apple</span><span class="p">:</span> <span class="s1">'Z'</span><span class="p">,</span> <span class="nx">timestamp</span> <span class="p">}</span>
<span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">axios</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="s1">'/api_keys'</span><span class="p">,</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">actualRequestParams</span><span class="p">),</span>
  <span class="p">{</span>
    <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">Authorization</span><span class="p">:</span> <span class="s2">`Token </span><span class="p">${</span><span class="nx">apiKey</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
      <span class="s1">'Content-Type'</span><span class="p">:</span> <span class="s1">'application/json'</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">)</span>
</code></pre>
<p>Because fully arbitrary messages are conventionally not allowed for the safety of normal users, and there is no canonical way to form a message that cannot be an EOS transaction, we issue short-lived API keys for authenticating EOS API requests.</p>

<p>The API key lasts for 30 minutes and should be passed in the <code>Authorization</code> HTTP header in the requests that require authentication. See the example for full details.</p>

<p><em>Note: This API key authentication strategy is supported when signing on other blockchains as well.</em></p>
<h3 id='signing-transactions-for-eos'>Signing Transactions for EOS</h3><pre class="highlight javascript"><code><span class="kr">const</span> <span class="p">{</span> <span class="nx">JsSignatureProvider</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'eosjs/dist/eosjs-jssig'</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">signatureProvider</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">JsSignatureProvider</span><span class="p">([</span><span class="nx">privateKey</span><span class="p">])</span>

<span class="c1">// 1. Verify transaction</span>

<span class="kr">const</span> <span class="p">{</span> <span class="nx">Api</span><span class="p">,</span> <span class="nx">JsonRpc</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'eosjs'</span><span class="p">)</span>
<span class="kr">const</span> <span class="p">{</span> <span class="nx">TextEncoder</span><span class="p">,</span> <span class="nx">TextDecoder</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'util'</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">fetch</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'node-fetch'</span><span class="p">)</span>

<span class="kr">const</span> <span class="nx">chainId</span> <span class="o">=</span> <span class="nx">production</span> <span class="p">?</span>
  <span class="s1">'aca376f206b8fc25a6ed44dbdc66547c36c6c33e3a119ffbeaef943642f0e906'</span> <span class="p">:</span> <span class="c1">// mainnet</span>
  <span class="s1">'e70aaab8997e1dfce58fbfac80cbbb8fecec7b99cf982a9444273cbc64c41473'</span> <span class="c1">// jungle</span>
<span class="kr">const</span> <span class="nx">host</span> <span class="o">=</span> <span class="nx">production</span> <span class="p">?</span>
  <span class="s1">'nodes.get-scatter.com'</span> <span class="p">:</span> <span class="c1">// mainnet</span>
  <span class="s1">'jungle.obolus.com'</span> <span class="c1">// jungle</span>

<span class="kr">const</span> <span class="nx">api</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Api</span><span class="p">({</span> <span class="nx">rpc</span><span class="p">,</span> <span class="nx">signatureProvider</span><span class="p">,</span> <span class="na">textDecoder</span><span class="p">:</span> <span class="k">new</span> <span class="nx">TextDecoder</span><span class="p">(),</span> <span class="na">textEncoder</span><span class="p">:</span> <span class="k">new</span> <span class="nx">TextEncoder</span><span class="p">()</span> <span class="p">})</span>

<span class="c1">// Send the parameters for the first step of an action</span>
<span class="c1">// and retrieve the response</span>
<span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="p">...</span>
<span class="kr">const</span> <span class="p">{</span> <span class="nx">transaction</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">response</span>

<span class="c1">// Verify the transaction data to ensure that it matches the user's intention</span>
<span class="kr">const</span> <span class="nx">txnObj</span> <span class="o">=</span> <span class="nx">api</span><span class="p">.</span><span class="nx">deserializeTransactionWithActions</span><span class="p">(</span><span class="nx">transaction</span><span class="p">)</span>
<span class="p">...</span>


<span class="c1">// 2. Sign transaction</span>

<span class="kd">function</span> <span class="nx">signTransaction</span><span class="p">(</span><span class="nx">transaction</span><span class="p">,</span> <span class="nx">privateKey</span><span class="p">,</span> <span class="nx">production</span> <span class="o">=</span> <span class="kc">false</span><span class="p">):</span> <span class="nx">Promise</span><span class="o">&lt;</span><span class="nx">string</span><span class="o">&gt;</span>  <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">serializedTransaction</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Uint8Array</span><span class="p">(</span><span class="k">new</span> <span class="nx">Buffer</span><span class="p">(</span><span class="nx">transaction</span><span class="p">,</span> <span class="s1">'hex'</span><span class="p">))</span>
    <span class="kr">const</span> <span class="nx">availableKeys</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">signatureProvider</span><span class="p">.</span><span class="nx">getAvailableKeys</span><span class="p">()</span>
    <span class="kr">const</span> <span class="nx">txn</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">signatureProvider</span><span class="p">.</span><span class="nx">sign</span><span class="p">({</span>
      <span class="na">abis</span><span class="p">:</span> <span class="p">[],</span>
      <span class="na">requiredKeys</span><span class="p">:</span> <span class="nx">availableKeys</span><span class="p">,</span>
      <span class="nx">chainId</span><span class="p">,</span>
      <span class="nx">serializedTransaction</span><span class="p">,</span>
    <span class="p">})</span>

    <span class="c1">// Note that multi-signature accounts are not supported at this time</span>
    <span class="c1">// (as implied by the return value below).</span>
    <span class="k">return</span> <span class="nx">txn</span><span class="p">.</span><span class="nx">signatures</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="c1">// Send the result to the second API endpoint/ bob</span>
<span class="kr">const</span> <span class="nx">signatureToSend</span> <span class="o">=</span> <span class="nx">signTransaction</span><span class="p">(</span><span class="nx">transaction</span><span class="p">)</span>
</code></pre>
<p>The second step of an action usually requires the returned transaction to be signed, this is done by:</p>

<ol>
<li>Deserializing the returned transaction data to ensure it matches the user&#39;s intention,
this can be done using the <a href="https://github.com/EOSIO/eosjs">eosjs</a> library and referring to the contract&#39;s ABI</li>
<li>Signing the serialized transaction with the user&#39;s private key</li>
</ol>

<aside class="notice">
  <strong>IMPORTANT:</strong> The signature format should be base58 encoded and prefixed with <code>SIG_K1_</code>.
  This is the format that is returned by eosjs and also accepted by EOS RPC nodes.
</aside>
<h3 id='signing-messages-for-neo'>Signing Messages for NEO</h3>
<p>When signing messages for NEO, the message should first be hex encoded and enveloped in an invalid transaction via: <code>&#39;010001f0&#39; + message + &#39;0000&#39;</code> before being signed. This is the canonical way of ensuring an arbitrary message is not also a valid NEO transaction.</p>

<blockquote>
<p>Signing a message for NEO</p>
</blockquote>
<pre class="highlight javascript"><code><span class="kr">const</span> <span class="p">{</span> <span class="nx">wallet</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'@cityofzion/neon-js'</span><span class="p">)</span>
<span class="kd">function</span> <span class="nx">signMessage</span><span class="p">(</span><span class="nx">message</span><span class="p">,</span> <span class="nx">privateKey</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">generateSignature</span><span class="p">(</span><span class="nx">message</span><span class="p">,</span> <span class="nx">privateKey</span><span class="p">)</span>
<span class="p">}</span>
<span class="nx">signMessage</span><span class="p">(</span><span class="s1">'Hello'</span><span class="p">,</span> <span class="s1">'&lt;private key&gt;'</span><span class="p">)</span>

</code></pre>
<p>The <a href="https://github.com/CityOfZion/neon-js">neon-js</a> library can be used to sign messages for NEO. Refer to the library&#39;s <a href="https://github.com/CityOfZion/neon-js/blob/cf5f92e4124c45a154449bf5852bcab28ddc1b32/src/wallet/core.js#L126">implementation details</a> should you wish to sign messages directly.</p>
<h4 id='signing-request-parameters-3'>Signing Request Parameters</h4>
<blockquote>
<p>Signing parameters for API requests</p>
</blockquote>
<pre class="highlight javascript"><code><span class="c1">// 1. Serialize parameters into a string</span>
<span class="c1">// Note that parameters must be ordered alphanumerically</span>
<span class="kr">const</span> <span class="nx">rawParams</span> <span class="o">=</span> <span class="p">{</span> <span class="na">blockchain</span><span class="p">:</span> <span class="s1">'neo'</span><span class="p">,</span> <span class="na">timestamp</span><span class="p">:</span> <span class="mi">1529380859</span><span class="p">,</span> <span class="na">apple</span><span class="p">:</span> <span class="s1">'Z'</span><span class="p">,</span> <span class="p">}</span>
<span class="kr">const</span> <span class="nx">stableStringify</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'json-stable-stringify'</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">parameterString</span> <span class="o">=</span> <span class="nx">stableStringify</span><span class="p">(</span><span class="nx">rawParams</span><span class="p">)</span>
<span class="c1">// parameterString: '{"apple":"Z","blockchain":"neo","timestamp":1529380859}'</span>

<span class="c1">// 2. Serialize the parameter string into a hex string</span>
<span class="kr">const</span> <span class="nx">Neon</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'@cityofzion/neon-js'</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">parameterHexString</span> <span class="o">=</span> <span class="nx">Neon</span><span class="p">.</span><span class="nx">u</span><span class="p">.</span><span class="nx">str2hexstring</span><span class="p">(</span><span class="nx">parameterString</span><span class="p">)</span>

<span class="c1">// 3. Convert into a prefixed hex string that represents length of parameterString</span>
<span class="kr">const</span> <span class="nx">lengthHex</span> <span class="o">=</span> <span class="nx">Neon</span><span class="p">.</span><span class="nx">u</span><span class="p">.</span><span class="nx">num2VarInt</span><span class="p">(</span><span class="nx">parameterHexString</span><span class="p">.</span><span class="nx">length</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
<span class="c1">// lengthHex: 37</span>

<span class="c1">// 4. Concat lengthHex and parameterHexString</span>
<span class="kr">const</span> <span class="nx">concatenatedString</span> <span class="o">=</span> <span class="nx">lengthHex</span> <span class="o">+</span> <span class="nx">parameterHexString</span>

<span class="c1">// 5. Wrap concatenatedString in an empty neo transaction and serialize it</span>
<span class="kr">const</span> <span class="nx">serializedTransaction</span> <span class="o">=</span> <span class="s1">'010001f0'</span> <span class="o">+</span> <span class="nx">concatenatedString</span> <span class="o">+</span> <span class="s1">'0000'</span>

<span class="c1">// 6. Sign serializedTransaction with the user's privateKey</span>
<span class="kr">const</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">signMessage</span><span class="p">(</span><span class="nx">serializedTransaction</span><span class="p">,</span> <span class="s1">'&lt;private key&gt;'</span><span class="p">)</span>

<span class="c1">// 7. Combine the raw parameters with the signature</span>
<span class="c1">// to get the final parameters to send</span>
<span class="kr">const</span> <span class="nx">parametersToSend</span> <span class="o">=</span> <span class="p">{</span> <span class="p">...</span><span class="nx">rawParams</span><span class="p">,</span> <span class="nx">signature</span> <span class="p">}</span>
</code></pre>
<p>To perform an action, request parameters have to be signed to generate a signature
parameter. This signature parameter should then be sent together with the other parameters in the request.</p>

<ol>
<li>Convert the API parameters into a string, with parameters <strong>ordered alphanumerically</strong></li>
<li>Serialize the parameter string into a hex string ()</li>
<li>Zero pad and prefix the <strong>length / 2</strong> of the result from (2) using <a href="https://github.com/CityOfZion/neon-js/blob/44b27057b1e17c7b36add8d952f2651f65cd3bd1/packages/neon-core/src/u/convert.ts#L172">neon-js.u.num2varint()</a></li>
<li>Concat the result of (3) and (2)</li>
<li>Wrap the result of (4) in a neo transaction</li>
<li>Sign the result of (5) with the user&#39;s private key</li>
<li>Send the result of (6) together with the raw parameters to the API endpoint</li>
</ol>
<h4 id='example-2'>Example</h4>
<p>Using the following parameters as an example:</p>

<p><code>{ blockchain: &#39;neo&#39;, timestamp: 1529380859, apple: &#39;Z&#39; }</code></p>

<ol>
<li>Convert the parameters into a string with parameters ordered alphanumerically:
<code>{&quot;apple&quot;:&quot;Z&quot;,&quot;blockchain&quot;:&quot;neo&quot;,&quot;timestamp&quot;:1529380859}</code></li>
<li>Serialize the parameter into a hex string to get:
<code>7b226170706c65223a225a222c22626c6f636b636861696e223a226e656f222c2274696d657374616d70223a313532393338303835397d</code></li>
<li>The length of this string is <code>110</code>, divide this by 2 to get <code>55</code></li>
<li>Convert <code>55</code> to hexadecimal to get <code>37</code></li>
<li>Convert <code>37</code> into a prefixed, zero padded hex string using <a href="https://github.com/CityOfZion/neon-js/blob/44b27057b1e17c7b36add8d952f2651f65cd3bd1/packages/neon-core/src/u/convert.ts#L172">neon-js.u.num2varint()</a>. In this case <code>37</code> is already two digits so
no padding or prefix is needed. If the value was something like <code>8</code> then it must be padded to become <code>08</code>. Lengths greater than 0xfc will have a prefix byte prepended (0xfd-0xff depending on length).</li>
<li>Form a string by concatenating <code>37</code>, and the result of (2) to get:
<code>377b226170706c65223a225a222c22626c6f636b636861696e223a226e656f222c2274696d657374616d70223a313532393338303835397d</code></li>
<li>Prepend <code>010001f0</code> and append <code>0000</code> to (6) to get:
<code>010001f0377b226170706c65223a225a222c22626c6f636b636861696e223a226e656f222c2274696d657374616d70223a313532393338303835397d0000</code></li>
<li>Let the user&#39;s private key be
<code style=" hyphens: none;">cd7b887c29a110e0ce53e81d6dd02805fc7b912718ff8b6659d8da42887342bd</code></li>
<li>Sign the result from (7) with the private key in (8) to get
<code style=" hyphens: none;">
f3831797cbd4244d1ccffafc42739e662e8b06c7a6f98efe5155d0eab1cf5c50fbac6d2a4c4487cbf71498b81e1e9478f06bef02d32da5d8f8bb7fdfc449879a
</code></li>
</ol>

<p><a href="https://github.com/ConjurTech/switcheo-api-examples/blob/7f0097ffdab7ce6149d8512d26afc0a0b0a142d6/src/utils.js#L48">View a full example implementation</a></p>
<h3 id='signing-transactions-for-neo'>Signing Transactions for NEO</h3>
<blockquote>
<p>Signing a transaction for NEO</p>
</blockquote>
<pre class="highlight javascript"><code><span class="c1">// Send the parameters for the first step of an action</span>
<span class="c1">// and retrieve the response</span>
<span class="kr">const</span> <span class="nx">response</span> <span class="o">=</span> <span class="p">...</span>
<span class="kr">const</span> <span class="p">{</span> <span class="nx">transaction</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">response</span>

<span class="c1">// verify the transaction data to ensure that it matches the user's intention</span>
<span class="p">...</span>

<span class="kr">const</span> <span class="p">{</span> <span class="nx">tx</span><span class="p">,</span> <span class="nx">wallet</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'@cityofzion/neon-js'</span><span class="p">)</span>

<span class="kd">function</span> <span class="nx">signTransaction</span><span class="p">(</span><span class="nx">transaction</span><span class="p">,</span> <span class="nx">privateKey</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">serializedTxn</span> <span class="o">=</span> <span class="nx">tx</span><span class="p">.</span><span class="nx">serializeTransaction</span><span class="p">(</span><span class="nx">transaction</span><span class="p">,</span> <span class="kc">false</span><span class="p">)</span>
  <span class="k">return</span> <span class="nx">wallet</span><span class="p">.</span><span class="nx">generateSignature</span><span class="p">(</span><span class="nx">serializedTxn</span><span class="p">,</span> <span class="nx">privateKey</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// send the result to the second API endpoint</span>
<span class="kr">const</span> <span class="nx">signatureToSend</span> <span class="o">=</span> <span class="nx">signTransaction</span><span class="p">(</span><span class="nx">transaction</span><span class="p">,</span> <span class="s1">'&lt;private key&gt;'</span><span class="p">)</span>
</code></pre>
<p>The second step of an action usually requires the returned transaction to be signed, this is done by:</p>

<ol>
<li>Checking the returned transaction data to ensure it matches the user&#39;s intention</li>
<li>Serializing the transaction, this can be done with <a href="https://github.com/CityOfZion/neon-js">neon-js</a>
(<a href="https://github.com/CityOfZion/neon-js/blob/c6a169a82a4d037e00dccd424f53cdc818d6b3ae/src/transactions/core.js#L79">View implementation details</a>)</li>
<li>Signing the serialized transaction with the user&#39;s private key</li>
</ol>
<h2 id='offers'>Offers</h2>
<p>An offer represents an open order on the <a href="https://switcheo.exchange">Switcheo Exchange</a> order book.</p>

<p>Funds that are used to make an offer are locked in the contract until the order is cancelled or filled.</p>
<h3 id='get-order-book'>GET Order Book</h3>
<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"pair"</span><span class="p">:</span> <span class="s2">"SWTH_NEO"</span><span class="p">,</span>
  <span class="s2">"contract_hash"</span><span class="p">:</span> <span class="s2">"eed0d2e14b0027f5f30ade45f2b23dc57dd54ad2"</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example response</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="nl">asks</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"0.00046103"</span><span class="p">,</span>
      <span class="s2">"quantity"</span><span class="p">:</span> <span class="s2">"9378.0"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"0.00046759"</span><span class="p">,</span>
      <span class="s2">"quantity"</span><span class="p">:</span> <span class="s2">"1084.30496802"</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nx">bids</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
    <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"0.00045645"</span><span class="p">,</span>
    <span class="s2">"quantity"</span><span class="p">:</span> <span class="s2">"6678.0"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"0.0004534"</span><span class="p">,</span>
      <span class="s2">"quantity"</span><span class="p">:</span> <span class="s2">"12279.38328187"</span>
    <span class="p">},</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example request 2 (normalizing quantity key to amount)</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"pair"</span><span class="p">:</span> <span class="s2">"SWTH_NEO"</span><span class="p">,</span>
  <span class="s2">"contract_hash"</span><span class="p">:</span> <span class="s2">"eed0d2e14b0027f5f30ade45f2b23dc57dd54ad2"</span><span class="p">,</span>
  <span class="s2">"normalize_keys"</span><span class="p">:</span> <span class="s2">"true"</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example response 2 (normalize quantity key to amount)</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="nl">asks</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"0.00046103"</span><span class="p">,</span>
      <span class="s2">"amount"</span><span class="p">:</span> <span class="s2">"9378.0"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"0.00046759"</span><span class="p">,</span>
      <span class="s2">"amount"</span><span class="p">:</span> <span class="s2">"1084.30496802"</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="nx">bids</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
    <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"0.00045645"</span><span class="p">,</span>
    <span class="s2">"amount"</span><span class="p">:</span> <span class="s2">"6678.0"</span>
    <span class="p">},</span>
    <span class="p">{</span>
      <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"0.0004534"</span><span class="p">,</span>
      <span class="s2">"amount"</span><span class="p">:</span> <span class="s2">"12279.38328187"</span>
    <span class="p">},</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre>
<p>Retrieves the order book with formatted price and quantity.</p>
<h4 id='http-request-14'>HTTP Request</h4>
<p><code>GET /v2/offers/book</code></p>
<h4 id='request-parameters-6'>Request Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pair</td>
<td><strong>string</strong></td>
<td>yes</td>
<td>Only return offers from this <a href="#pairs">pair</a>.</td>
</tr>
<tr>
<td>contract_hash</td>
<td><strong>string</strong></td>
<td>no</td>
<td>Only return offers for this <a href="#contracts">contract hash</a>.</td>
</tr>
<tr>
<td>normalize_keys</td>
<td><strong>string</strong></td>
<td>no</td>
<td>Normalize default &quot;quantity&quot; key to &quot;amount&quot;</td>
</tr>
</tbody></table>
<h4 id='response-parameters-7'>Response parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>price</td>
<td>Bid or Ask price.</td>
</tr>
<tr>
<td>quantity / amount</td>
<td>If <code>bids</code> side, returns amount of tokens being bought. If <code>asks</code> side, returns amount of tokens that is being sold.</td>
</tr>
</tbody></table>
<h3 id='get-offer-book'>GET Offer Book</h3>
<blockquote>
<p>Example request - ETH Pair</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"pair"</span><span class="p">:</span> <span class="s2">"JRC_ETH"</span><span class="p">,</span>
  <span class="s2">"contract_hash"</span><span class="p">:</span> <span class="s2">"0x607af5164d95bd293dbe2b994c7d8aef6bec03bf"</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example response</p>
</blockquote>
<pre class="highlight javascript"><code> <span class="p">[</span>
    <span class="p">{</span>
        <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"e4a76e85-53dc-4a25-ab44-4eed504ce0e0"</span><span class="p">,</span>
        <span class="s2">"address"</span><span class="p">:</span> <span class="s2">"0x0fc8f7bab5feb402ed624b5f5fc88a0648a7f3ae"</span><span class="p">,</span>
        <span class="s2">"available_amount"</span><span class="p">:</span> <span class="mf">2.4043723</span><span class="nx">e</span><span class="o">+</span><span class="mi">24</span><span class="p">,</span>
        <span class="s2">"offer_amount"</span><span class="p">:</span> <span class="mi">1</span><span class="nx">e</span><span class="o">+</span><span class="mi">25</span><span class="p">,</span>
        <span class="s2">"want_amount"</span><span class="p">:</span> <span class="mi">1500000000000000000</span><span class="p">,</span>
        <span class="s2">"offer_asset"</span><span class="p">:</span> <span class="s2">"JRC"</span><span class="p">,</span>
        <span class="s2">"want_asset"</span><span class="p">:</span> <span class="s2">"ETH"</span>
    <span class="p">},</span>
    <span class="p">....</span>
<span class="p">]</span>
</code></pre>
<p>Retrieves the raw data for 70 best offers (per side) of the offer book.</p>

<aside class="notice">It is recommended to use /v2/offers/book whenever possible as it returns a formatted version that is easier to consume.</aside>
<h4 id='http-request-15'>HTTP Request</h4>
<p><code>GET /v2/offers</code></p>
<h4 id='request-parameters-7'>Request Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pair</td>
<td><strong>string</strong></td>
<td>yes</td>
<td>Only return offers from this <a href="#pairs">pair</a>.</td>
</tr>
<tr>
<td>contract_hash</td>
<td><strong>string</strong></td>
<td>no</td>
<td>Only return offers for this <a href="#contracts">contract hash</a>.</td>
</tr>
</tbody></table>
<h4 id='response-parameters-8'>Response parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique identifier for the offer object.</td>
</tr>
<tr>
<td>address</td>
<td><a href="#addresses">Address</a> of the offer maker</td>
</tr>
<tr>
<td>available_amount</td>
<td>Remaining <a href="#amounts">amount</a> of the <code>offer_asset</code> that has not been taken by other orders.</td>
</tr>
<tr>
<td>offer_amount</td>
<td>Total <a href="#amounts">amount</a> of the <code>offer_asset</code>.</td>
</tr>
<tr>
<td>want_amount</td>
<td>Total <a href="#amounts">amount</a> of the <code>want_asset</code>.</td>
</tr>
<tr>
<td>offer_asset</td>
<td><a href="#supported-assets">Symbol</a> of the token that the offer maker is offering.</td>
</tr>
<tr>
<td>want_asset</td>
<td><a href="#supported-assets">Symbol</a> of the token that the offer maker wants .</td>
</tr>
</tbody></table>
<h4 id='example-3'>Example</h4>
<p><a href="https://github.com/ConjurTech/switcheo-api-examples/blob/master/src/examples/offers/listOffersExample.js">Full list offers example</a></p>
<h2 id='trades'>Trades</h2>
<p>A trade represents a fill of an offer.</p>

<p>This happens when an incoming order matches an offer on the opposite side of the order book in price.</p>

<p>Trades can be seen on the Trade History column on <a href="https://switcheo.exchange">Switcheo Exchange</a>.</p>
<h3 id='get-trades'>GET Trades</h3>
<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"blockchain"</span><span class="p">:</span> <span class="s2">"neo"</span><span class="p">,</span>
  <span class="s2">"pair"</span><span class="p">:</span> <span class="s2">"SWTH_NEO"</span><span class="p">,</span>
  <span class="s2">"limit"</span><span class="p">:</span> <span class="mi">3</span><span class="p">,</span>
  <span class="s2">"contract_hash"</span><span class="p">:</span> <span class="s2">"&lt;contract hash&gt;"</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example response</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">[</span>
  <span class="p">{</span>
    <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"712a5019-3a23-463e-b0e1-80e9f0ad4f91"</span><span class="p">,</span>
    <span class="s2">"fill_amount"</span><span class="p">:</span> <span class="mi">9122032316</span><span class="p">,</span>
    <span class="s2">"take_amount"</span><span class="p">:</span> <span class="mi">20921746</span><span class="p">,</span>
    <span class="s2">"event_time"</span><span class="p">:</span> <span class="s2">"2018-06-08T11:32:03.219Z"</span><span class="p">,</span>
    <span class="s2">"is_buy"</span><span class="p">:</span> <span class="kc">false</span>
  <span class="p">},</span>
  <span class="p">{</span>
    <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"5d7e42a2-a8f3-40a9-bce5-7304921ff691"</span><span class="p">,</span>
    <span class="s2">"fill_amount"</span><span class="p">:</span> <span class="mi">280477933</span><span class="p">,</span>
    <span class="s2">"take_amount"</span><span class="p">:</span> <span class="mi">4207169</span><span class="p">,</span>
    <span class="s2">"event_time"</span><span class="p">:</span> <span class="s2">"2018-06-08T11:31:42.200Z"</span><span class="p">,</span>
    <span class="s2">"is_buy"</span><span class="p">:</span> <span class="kc">false</span>
  <span class="p">},</span>
  <span class="p">...</span>
<span class="p">]</span>
</code></pre>
<p>Retrieves raw trades that occurred on Switcheo Exchange, filtered by the request parameters.</p>
<h4 id='http-request-16'>HTTP Request</h4>
<p><code>GET /v2/trades</code></p>
<h4 id='request-parameters-8'>Request Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>contract_hash</td>
<td><strong>string</strong></td>
<td>yes</td>
<td>Only return trades for this <a href="#contracts">contract hash</a>.</td>
</tr>
<tr>
<td>pair</td>
<td><strong>string</strong></td>
<td>yes</td>
<td>Only return trades for this <a href="#pairs">pair</a>.</td>
</tr>
<tr>
<td>from</td>
<td><strong>integer</strong></td>
<td>no</td>
<td>Only return trades after this time in epoch seconds.</td>
</tr>
<tr>
<td>to</td>
<td><strong>integer</strong></td>
<td>no</td>
<td>Only return trades before this time in epoch seconds.</td>
</tr>
<tr>
<td>limit</td>
<td><strong>integer</strong></td>
<td>no</td>
<td>Only return this number of trades (min: <code>1</code>, max: <code>10000</code>, default: <code>5000</code>).</td>
</tr>
</tbody></table>
<h4 id='response-parameters-9'>Response parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique identifier for the trade object.</td>
</tr>
<tr>
<td>fill_amount</td>
<td>Amount of tokens that is given by the trade to the <a href="#offers">offer</a> that it is filling.</td>
</tr>
<tr>
<td>take_amount</td>
<td>Amount of tokens that the trade takes from the <a href="#offers">offer&#39;s</a> <code>available_amount</code> that it is filling.</td>
</tr>
<tr>
<td>event_time</td>
<td>Datetime that the trade occurs in Zulu Time (UDT+0)</td>
</tr>
<tr>
<td>is_buy</td>
<td>Whether the side of the trade is a buy.</td>
</tr>
</tbody></table>
<h4 id='example-4'>Example</h4>
<p><a href="https://github.com/ConjurTech/switcheo-api-examples/blob/master/src/examples/trades/listTradesExample.js">Full list trades example</a></p>
<h3 id='get-recent-trades'>GET Recent Trades</h3>
<p>Returns <code>20</code> most recent formatted trades on the selected pair sorted by executed time in descending order (most recent first).</p>
<h4 id='http-request-17'>HTTP Request</h4>
<p><code>GET /v2/trades/recent</code></p>
<h4 id='request-parameters-9'>Request Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>pair</td>
<td><strong>string</strong></td>
<td>yes</td>
<td>Only return trades for this <a href="#pairs">pair</a>.</td>
</tr>
</tbody></table>
<h4 id='response-parameters-10'>Response parameters</h4>
<blockquote>
<p>Example response</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">[</span>
  <span class="p">{</span>
  <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"dc1c8926-dda1-4f39-afae-0872da950340"</span><span class="p">,</span>
  <span class="s2">"pair"</span><span class="p">:</span> <span class="s2">"SWTH_NEO"</span><span class="p">,</span>
  <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"sell"</span><span class="p">,</span>
  <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"0.00046835"</span><span class="p">,</span>
  <span class="s2">"quantity"</span><span class="p">:</span> <span class="s2">"84.0"</span><span class="p">,</span>
  <span class="s2">"total"</span><span class="p">:</span> <span class="s2">"0.0393414"</span><span class="p">,</span>
  <span class="s2">"timestamp"</span><span class="p">:</span> <span class="mi">1537924944</span>
  <span class="p">},</span>
  <span class="p">...</span>
<span class="p">]</span>
</code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique identifier for the trade object.</td>
</tr>
<tr>
<td>pair</td>
<td>The <a href="#pairs">pair</a> on which the trade occurred.</td>
</tr>
<tr>
<td>side</td>
<td>Whether the trade was a buy or sell on this pair. Possible values are: <code>buy</code>, <code>sell</code>. If the pair is <code>SWTH_NEO</code> and the side is <code>buy</code> then the trade bought <code>SWTH</code> using <code>NEO</code>. If the side is <code>sell</code> then the trade sold <code>SWTH</code> for <code>NEO</code>.</td>
</tr>
<tr>
<td>price</td>
<td>Buy or sell price to 8 decimal places precision.</td>
</tr>
<tr>
<td>quantity</td>
<td>If <code>buy</code> side, returns amount of tokens that the trade takes from the <a href="#offers">offer&#39;s</a> <code>available_amount</code> that it is filling. If <code>sell</code> side, returns amount of tokens that the trade gives the <a href="#offers">offer</a> that it is filling</td>
</tr>
<tr>
<td>total</td>
<td>If <code>buy</code> side, returns amount of tokens that the trade gives the <a href="#offers">offer</a> that it is filling. If <code>sell</code> side, returns amount of tokens that the trade takes from the <a href="#offers">offer&#39;s</a> <code>available_amount</code> that it is filling</td>
</tr>
<tr>
<td>timestamp</td>
<td>Time that trade was broadcasted in epoch <strong>seconds</strong></td>
</tr>
</tbody></table>
<h2 id='deposits'>Deposits</h2>
<p>Deposits are a transfer of tokens from your wallet into the Switcheo smart contract.</p>
<h3 id='overview-3'>Overview</h3>
<p>Trading on Switcheo Exchange can only be done using funds that have been successfully deposited into the smart contract.</p>

<p>Deposits are not instantaneous.
Once a deposit has been executed, funds in your wallet balance would be deducted by the amount of tokens you chose to deposit.</p>

<p>Funds deducted from your wallet balance will be added to your contract balance but put on hold until
Switcheo has determined that it has been successfully broadcasted to the blockchain.</p>
<h3 id='testing-with-testnet-faucet'>Testing with TestNet Faucet</h3>
<p>For the convenience of testing API endpoints, tokens can be received through our TestNet faucet.
To use the faucet:</p>

<ol>
<li>Go to <a href="https://legacy.switcheo.exchange/">https://legacy.switcheo.exchange/</a></li>
<li>Click on the TestNet/MainNet selector at the bottom of the page</li>
<li>Select TestNet V2</li>
<li>Click on <strong>WALLET LOGIN</strong> to login</li>
<li>Click on the <strong>FAUCET</strong> button to receive tokens for testing</li>
</ol>
<h3 id='post-create-deposit'>POST Create Deposit</h3>
<blockquote>
<p>Create a deposit</p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">createDeposit</span> <span class="p">({</span> <span class="nx">blockchain</span><span class="p">,</span> <span class="nx">address</span><span class="p">,</span> <span class="nx">assetID</span><span class="p">,</span> <span class="nx">amount</span><span class="p">,</span> <span class="nx">privateKey</span> <span class="p">})</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">signableParams</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">blockchain</span><span class="p">,</span> <span class="nx">assetID</span><span class="p">,</span> <span class="nx">amount</span><span class="p">,</span> <span class="na">timestamp</span><span class="p">:</span> <span class="nx">getTimestamp</span><span class="p">(),</span>
                           <span class="na">contractHash</span><span class="p">:</span> <span class="nx">CONTRACT_HASH</span> <span class="p">}</span>
  <span class="kr">const</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">signParams</span><span class="p">(</span><span class="nx">signableParams</span><span class="p">,</span> <span class="nx">privateKey</span><span class="p">)</span>
  <span class="kr">const</span> <span class="nx">apiParams</span> <span class="o">=</span> <span class="p">{</span> <span class="p">...</span><span class="nx">signableParams</span><span class="p">,</span> <span class="nx">address</span><span class="p">,</span> <span class="nx">signature</span> <span class="p">}</span>
  <span class="k">return</span> <span class="nx">api</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">API_URL</span> <span class="o">+</span> <span class="s1">'/deposits'</span><span class="p">,</span> <span class="nx">apiParams</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// NOTE: in this example, the parameters can be in camel case because</span>
<span class="c1">// the `signParams` and `api.post` method automatically convert param keys</span>
<span class="c1">// to snake case</span>
<span class="nx">createDeposit</span><span class="p">({</span>
  <span class="na">blockchain</span><span class="p">:</span> <span class="s1">'neo'</span><span class="p">,</span>
  <span class="na">address</span><span class="p">:</span> <span class="nx">user</span><span class="p">.</span><span class="nx">address</span><span class="p">,</span>
  <span class="na">assetID</span><span class="p">:</span> <span class="s1">'SWTH'</span><span class="p">,</span>
  <span class="na">amount</span><span class="p">:</span> <span class="nx">toNeoAssetAmount</span><span class="p">(</span><span class="mi">7</span><span class="p">),</span>
  <span class="na">privateKey</span><span class="p">:</span> <span class="nx">user</span><span class="p">.</span><span class="nx">privateKey</span>
<span class="p">})</span>
</code></pre>
<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"blockchain"</span><span class="p">:</span> <span class="s2">"neo"</span><span class="p">,</span>
  <span class="s2">"asset_id"</span><span class="p">:</span> <span class="s2">"SWTH"</span><span class="p">,</span>
  <span class="s2">"amount"</span><span class="p">:</span> <span class="s2">"100000000"</span><span class="p">,</span>
  <span class="s2">"timestamp"</span><span class="p">:</span> <span class="mi">1531543361074</span><span class="p">,</span>
  <span class="s2">"contract_hash"</span><span class="p">:</span> <span class="s2">"&lt;contract hash&gt;"</span><span class="p">,</span>
  <span class="s2">"address"</span><span class="p">:</span> <span class="s2">"87cf67daa0c1e9b6caa1443cf5555b09cb3f8e5f"</span><span class="p">,</span>
  <span class="s2">"signature"</span><span class="p">:</span> <span class="s2">"&lt;signature&gt;"</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example response</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"ad5a6e05-d992-47c0-9f52-79ca173dccd1"</span><span class="p">,</span>
  <span class="s2">"transaction"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"hash"</span><span class="p">:</span> <span class="s2">"a53f26b21f2ede25909e8ac3bf094ac3318e31d5cd654bde4ba734478f1368b2"</span><span class="p">,</span>
    <span class="s2">"sha256"</span><span class="p">:</span> <span class="s2">"caa6727a795ef2dba75c7ea143b6020ffc0d2d4164d7be9639ebb9a1bbd7a6d1"</span><span class="p">,</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="mi">209</span><span class="p">,</span>
    <span class="s2">"version"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"attributes"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">[</span>
        <span class="kc">null</span>
      <span class="p">]</span>
    <span class="p">],</span>
    <span class="s2">"inputs"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">[</span>
        <span class="kc">null</span>
      <span class="p">]</span>
    <span class="p">],</span>
    <span class="s2">"outputs"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">[</span>
        <span class="kc">null</span>
      <span class="p">]</span>
    <span class="p">],</span>
    <span class="s2">"scripts"</span><span class="p">:</span> <span class="p">[],</span>
    <span class="s2">"script"</span><span class="p">:</span> <span class="s2">"0800e1f505000000001432e125258b7db0a0dffde5bd03b2b859253538ab145f8e3fcb095b55f53c44a1cab6e9c1a0da67cf8753c1076465706f73697467d24ad57dc53db2f245de0af3f527004be1d2d0ee"</span><span class="p">,</span>
    <span class="s2">"gas"</span><span class="p">:</span> <span class="mi">0</span>
  <span class="p">},</span>
  <span class="s2">"script_params"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"scriptHash"</span><span class="p">:</span> <span class="s2">"eed0d2e14b0027f5f30ade45f2b23dc57dd54ad2"</span><span class="p">,</span>
    <span class="s2">"operation"</span><span class="p">:</span> <span class="s2">"deposit"</span><span class="p">,</span>
    <span class="s2">"args"</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">"5f8e3fcb095b55f53c44a1cab6e9c1a0da67cf87"</span><span class="p">,</span>
      <span class="s2">"32e125258b7db0a0dffde5bd03b2b859253538ab"</span><span class="p">,</span>
      <span class="mi">100000000</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<p>This endpoint creates a deposit which can be executed through <a href="#execute-deposit">Execute Deposit</a>.
To be able to make a deposit, sufficient funds are required in the depositing wallet.</p>

<aside class="notice">
  IMPORTANT: After calling this endpoint, the Execute Deposit endpoint has to be called for the deposit to be executed.
</aside>
<h4 id='http-request-18'>HTTP Request</h4>
<p><code>POST /v2/deposits</code></p>
<h4 id='request-parameters-10'>Request Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>blockchain</td>
<td><strong>string</strong></td>
<td>yes</td>
<td>Blockchain that the token to deposit is on. Possible values are: <code>neo</code>.</td>
</tr>
<tr>
<td>asset_id</td>
<td><strong>string</strong></td>
<td>yes</td>
<td>The <a href="#supported-assets">asset symbol or ID</a> to deposit.</td>
</tr>
<tr>
<td>amount</td>
<td><a href="#amounts">amount</a></td>
<td>yes</td>
<td><a href="#amounts">Amount</a> of tokens to deposit.</td>
</tr>
<tr>
<td>contract_hash</td>
<td><strong>string</strong></td>
<td>yes</td>
<td>Switcheo Exchange <a href="#contracts">contract hash</a> to execute the deposit on.</td>
</tr>
<tr>
<td>timestamp</td>
<td><a href="#timestamp">timestamp</a></td>
<td>yes</td>
<td>The exchange&#39;s timestamp to be used as a nonce.</td>
</tr>
<tr>
<td>signature</td>
<td><strong>string</strong></td>
<td>yes</td>
<td>Signature of the request payload. See <a href="#authentication">Authentication</a> for more details.</td>
</tr>
<tr>
<td>address</td>
<td><a href="#addresses">address</a></td>
<td>yes</td>
<td>The depositer&#39;s <a href="#addresses">address</a>. <strong>Do not include this in the parameters to be signed.</strong></td>
</tr>
</tbody></table>
<h4 id='example-5'>Example</h4>
<p><a href="https://github.com/ConjurTech/switcheo-api-examples/blob/master/src/examples/deposits/createDepositExample.js">Full create deposit example</a></p>
<h3 id='post-execute-eth-deposit'>POST Execute ETH Deposit</h3>
<blockquote>
<p>Execute a deposit</p>
</blockquote>
<pre class="highlight javascript"><code><span class="kr">const</span> <span class="nx">Web3</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'web3'</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">provider</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Web3</span><span class="p">.</span><span class="nx">providers</span><span class="p">.</span><span class="nx">HttpProvider</span><span class="p">(</span><span class="s1">'https://mainnet.infura.io'</span><span class="p">)</span>
<span class="kr">const</span> <span class="nx">web3</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">Web3</span><span class="p">(</span><span class="nx">provider</span><span class="p">)</span>

<span class="kd">function</span> <span class="nx">executeDeposit</span> <span class="p">({</span> <span class="nx">deposit</span><span class="p">,</span> <span class="nx">privateKey</span> <span class="p">})</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="p">{</span> <span class="nx">rawTransaction</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">await</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">eth</span><span class="p">.</span><span class="nx">accounts</span><span class="p">.</span><span class="nx">signTransaction</span><span class="p">(</span><span class="nx">deposit</span><span class="p">.</span><span class="nx">transaction</span><span class="p">,</span> <span class="nx">privateKey</span><span class="p">)</span>
  <span class="kr">const</span> <span class="nx">transactionHash</span> <span class="o">=</span> <span class="nx">web3</span><span class="p">.</span><span class="nx">utils</span><span class="p">.</span><span class="nx">keccak256</span><span class="p">(</span><span class="nx">rawTransaction</span><span class="p">)</span>

  <span class="nx">web3</span><span class="p">.</span><span class="nx">eth</span><span class="p">.</span><span class="nx">sendSignedTransaction</span><span class="p">(</span><span class="nx">rawTransaction</span><span class="p">)</span>

  <span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span><span class="nx">API_URL</span><span class="p">}</span><span class="s2">/deposits/</span><span class="p">${</span><span class="nx">deposit</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="s2">/broadcast`</span>
  <span class="k">return</span> <span class="nx">api</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="p">{</span> <span class="nx">transactionHash</span> <span class="p">})</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"transaction_hash"</span><span class="p">:</span> <span class="s2">"&lt;transaction_hash&gt;"</span>
<span class="p">}</span>
</code></pre>
<p>This is the second endpoint required to execute a deposit.
After using the <a href="#create-deposit">Create Deposit</a> endpoint,
you will receive a response which contains a <code>transaction</code>.</p>

<p>The <code>transaction</code> in the response should be signed and directly broadcasted by the client,
the transaction hash of the broadcasted transaction should then be sent to the broadcast endpoint.</p>
<h4 id='http-request-19'>HTTP Request</h4>
<p><code>POST /v2/deposits/:id/broadcast</code></p>
<h4 id='request-parameters-11'>Request Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>transaction_hash</td>
<td><strong>string</strong></td>
<td>The transaction hash of the broadcasted transaction</td>
</tr>
</tbody></table>

<p><a href="https://github.com/ConjurTech/switcheo-api-examples/blob/master/src/examples/deposits/executeDepositExample.js">Full execute deposit example</a></p>
<h3 id='post-execute-eos-deposit'>POST Execute EOS Deposit</h3>
<blockquote>
<p>Execute a deposit</p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">executeDeposit</span> <span class="p">({</span> <span class="nx">deposit</span><span class="p">,</span> <span class="nx">privateKey</span> <span class="p">})</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">signTransaction</span><span class="p">(</span><span class="nx">deposit</span><span class="p">.</span><span class="nx">transaction</span><span class="p">,</span> <span class="nx">privateKey</span><span class="p">)</span>
  <span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span><span class="nx">API_URL</span><span class="p">}</span><span class="s2">/deposits/</span><span class="p">${</span><span class="nx">deposit</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="s2">/broadcast`</span>
  <span class="k">return</span> <span class="nx">api</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="p">{</span> <span class="nx">signature</span> <span class="p">})</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"signature"</span><span class="p">:</span> <span class="s2">"&lt;signature&gt;"</span>
<span class="p">}</span>
</code></pre>
<p>This is the second endpoint required to execute a deposit.
After using the <a href="#create-deposit">Create Deposit</a> endpoint,
you will receive a response which requires additional signing.</p>

<p>The signature should then be attached as the <code>signature</code> parameter in the request payload.
Please see the <a href="#signing-transactions-for-eos">Authentication</a> section for details on how to sign an EOS transaction.</p>
<h3 id='post-execute-neo-deposit'>POST Execute NEO Deposit</h3>
<blockquote>
<p>Execute a deposit</p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">executeDeposit</span> <span class="p">({</span> <span class="nx">deposit</span><span class="p">,</span> <span class="nx">privateKey</span> <span class="p">})</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">signTransaction</span><span class="p">(</span><span class="nx">deposit</span><span class="p">.</span><span class="nx">transaction</span><span class="p">,</span> <span class="nx">privateKey</span><span class="p">)</span>
  <span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span><span class="nx">API_URL</span><span class="p">}</span><span class="s2">/deposits/</span><span class="p">${</span><span class="nx">deposit</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="s2">/broadcast`</span>
  <span class="k">return</span> <span class="nx">api</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="p">{</span> <span class="nx">signature</span> <span class="p">})</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"signature"</span><span class="p">:</span> <span class="s2">"&lt;signature&gt;"</span>
<span class="p">}</span>
</code></pre>
<p>This is the second endpoint required to execute a deposit.
After using the <a href="#create-deposit">Create Deposit</a> endpoint,
you will receive a response which requires additional signing.</p>

<p>The signature should then be attached as the <code>signature</code> parameter in the request payload.</p>

<p>Note that a <code>sha256</code> parameter is provided for convenience to be used directly as part of the ECDSA signature process.
 <em>In production mode, this should be recalculated for additional security.</em></p>
<h4 id='http-request-20'>HTTP Request</h4>
<p><code>POST /v2/deposits/:id/broadcast</code></p>
<h4 id='request-parameters-12'>Request Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>signature</td>
<td><strong>string</strong></td>
<td>Signed response from create deposit endpoint. (See how and what to sign for different blockchains above)</td>
</tr>
</tbody></table>

<p><a href="https://github.com/ConjurTech/switcheo-api-examples/blob/master/src/examples/deposits/executeDepositExample.js">Full execute deposit example</a></p>
<h2 id='withdrawals'>Withdrawals</h2>
<p>Withdrawals are a transfer of tokens from the Switcheo smart contract into your wallet.</p>
<h3 id='overview-4'>Overview</h3>
<p>Once a withdrawal has been executed, tokens in your contract balance would be deducted.
Tokens that are put on hold by orders cannot be withdrawn.</p>

<p>Withdrawals are not instantaneous.
Tokens deducted from your contract balance will be added to your wallet balance but put on hold until
the withdrawal has been fully executed.</p>
<h3 id='post-create-withdrawal'>POST Create Withdrawal</h3>
<blockquote>
<p>Create a withdrawal</p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">createWithdrawal</span> <span class="p">({</span> <span class="nx">blockchain</span><span class="p">,</span> <span class="nx">address</span><span class="p">,</span> <span class="nx">assetID</span><span class="p">,</span> <span class="nx">amount</span><span class="p">,</span> <span class="nx">privateKey</span> <span class="p">})</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">signableParams</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">blockchain</span><span class="p">,</span> <span class="nx">assetID</span><span class="p">,</span> <span class="nx">amount</span><span class="p">,</span>
                           <span class="na">contractHash</span><span class="p">:</span> <span class="nx">CONTRACT_HASH</span><span class="p">,</span> <span class="na">timestamp</span><span class="p">:</span> <span class="nx">getTimestamp</span><span class="p">()</span> <span class="p">}</span>
  <span class="kr">const</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">signParams</span><span class="p">(</span><span class="nx">signableParams</span><span class="p">,</span> <span class="nx">privateKey</span><span class="p">,)</span>
  <span class="kr">const</span> <span class="nx">apiParams</span> <span class="o">=</span> <span class="p">{</span> <span class="p">...</span><span class="nx">signableParams</span><span class="p">,</span> <span class="nx">address</span><span class="p">,</span> <span class="nx">signature</span> <span class="p">}</span>
  <span class="k">return</span> <span class="nx">api</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">API_URL</span> <span class="o">+</span> <span class="s1">'/withdrawals'</span><span class="p">,</span> <span class="nx">apiParams</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// NOTE: in this example, the parameters can be in camel case because</span>
<span class="c1">// the `signParams` and `api.post` method automatically convert param keys</span>
<span class="c1">// to snake case</span>
<span class="nx">createWithdrawal</span><span class="p">({</span>
  <span class="na">blockchain</span><span class="p">:</span> <span class="s1">'neo'</span><span class="p">,</span>
  <span class="na">address</span><span class="p">:</span> <span class="nx">user</span><span class="p">.</span><span class="nx">address</span><span class="p">,</span>
  <span class="na">assetID</span><span class="p">:</span> <span class="s1">'SWTH'</span><span class="p">,</span>
  <span class="na">amount</span><span class="p">:</span> <span class="p">(</span><span class="nx">toNeoAssetAmount</span><span class="p">(</span><span class="mi">1</span><span class="p">)),</span>
  <span class="na">privateKey</span><span class="p">:</span> <span class="nx">user</span><span class="p">.</span><span class="nx">privateKey</span>
<span class="p">})</span>
</code></pre>
<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"blockchain"</span><span class="p">:</span> <span class="s2">"neo"</span><span class="p">,</span>
  <span class="s2">"asset_id"</span><span class="p">:</span> <span class="s2">"SWTH"</span><span class="p">,</span>
  <span class="s2">"amount"</span><span class="p">:</span> <span class="s2">"100000000"</span><span class="p">,</span>
  <span class="s2">"timestamp"</span><span class="p">:</span> <span class="mi">1531544358560</span><span class="p">,</span>
  <span class="s2">"contract_hash"</span><span class="p">:</span> <span class="s2">"&lt;contract hash&gt;"</span><span class="p">,</span>
  <span class="s2">"signature"</span><span class="p">:</span> <span class="s2">"&lt;signature&gt;"</span><span class="p">,</span>
  <span class="s2">"address"</span><span class="p">:</span> <span class="s2">"87cf67daa0c1e9b6caa1443cf5555b09cb3f8e5f"</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example response</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"e0f56e23-2e11-4848-b749-a147c872cbe6"</span>
<span class="p">}</span>
</code></pre>
<p>This endpoint creates a withdrawal which can be executed through <a href="#execute-withdrawal">Execute Withdrawal</a>.
To be able to make a withdrawal, sufficient funds are required in the contract balance.</p>

<p>A <a href="#authentication">signature</a> of the request payload has to be provided for this API call.</p>

<aside class="notice">
  IMPORTANT: After calling this endpoint, the Execute Withdrawal endpoint has to be called for the withdrawal to be executed.
</aside>
<h4 id='http-request-21'>HTTP Request</h4>
<p><code>POST /v2/withdrawals</code></p>
<h4 id='request-parameters-13'>Request Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>blockchain</td>
<td><strong>string</strong></td>
<td>yes</td>
<td>Blockchain that the token to withdraw is on. Possible values are: <code>neo</code>.</td>
</tr>
<tr>
<td>asset_id</td>
<td><strong>string</strong></td>
<td>yes</td>
<td>The <a href="#supported-assets">asset symbol or ID</a> to withdraw.</td>
</tr>
<tr>
<td>amount</td>
<td><a href="#amounts">amount</a></td>
<td>yes</td>
<td><a href="#amounts">Amount</a> of tokens to withdraw.</td>
</tr>
<tr>
<td>timestamp</td>
<td><a href="#timestamp">timestamp</a></td>
<td>yes</td>
<td>The exchange&#39;s timestamp to be used as a nonce.</td>
</tr>
<tr>
<td>contract_hash</td>
<td><strong>string</strong></td>
<td>yes</td>
<td>Switcheo Exchange <a href="#contracts">contract hash</a> to execute the withdraw on.</td>
</tr>
<tr>
<td>signature</td>
<td><strong>string</strong></td>
<td>yes</td>
<td>Signature of the request payload. See <a href="#authentication">Authentication</a> for more details.</td>
</tr>
<tr>
<td>address</td>
<td><a href="#addresses">address</a></td>
<td>yes</td>
<td>The withdrawer&#39;s <a href="#addresses">address</a>. <strong>Do not include this in the parameters to be signed.</strong></td>
</tr>
</tbody></table>
<h4 id='example-6'>Example</h4>
<p><a href="https://github.com/ConjurTech/switcheo-api-examples/blob/master/src/examples/withdrawals/createWithdrawalExample.js">Full create withdrawal example</a></p>
<h3 id='post-execute-withdrawal'>POST Execute Withdrawal</h3>
<blockquote>
<p>Executing a withdrawal</p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">executeWithdrawal</span> <span class="p">({</span> <span class="nx">withdrawal</span><span class="p">,</span> <span class="nx">privateKey</span> <span class="p">})</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">signableParams</span> <span class="o">=</span> <span class="p">{</span> <span class="na">id</span><span class="p">:</span> <span class="nx">withdrawal</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="na">timestamp</span><span class="p">:</span> <span class="nx">getTimestamp</span><span class="p">()</span> <span class="p">}</span>
    <span class="kr">const</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">signParams</span><span class="p">(</span><span class="nx">signableParams</span><span class="p">,</span> <span class="nx">privateKey</span><span class="p">)</span>
    <span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span><span class="nx">API_URL</span><span class="p">}</span><span class="s2">/withdrawals/</span><span class="p">${</span><span class="nx">withdrawal</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="s2">/broadcast`</span>
    <span class="k">return</span> <span class="nx">api</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="p">{</span> <span class="p">...</span><span class="nx">signableParams</span><span class="p">,</span> <span class="nx">signature</span> <span class="p">})</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"998f1bdc-f26f-44f2-b204-403e24d5777f"</span><span class="p">,</span>
  <span class="s2">"timestamp"</span><span class="p">:</span> <span class="mi">1531545149715</span><span class="p">,</span>
  <span class="s2">"signature"</span><span class="p">:</span> <span class="s2">"&lt;signature&gt;"</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example response</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"event_type"</span><span class="p">:</span> <span class="s2">"withdrawal"</span><span class="p">,</span>
  <span class="s2">"amount"</span><span class="p">:</span> <span class="o">-</span><span class="mi">100000000</span><span class="p">,</span>
  <span class="s2">"asset_id"</span><span class="p">:</span> <span class="s2">"ab38352559b8b203bde5fddfa0b07d8b2525e132"</span><span class="p">,</span>
  <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"confirming"</span><span class="p">,</span>
  <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"998f1bdc-f26f-44f2-b204-403e24d5777f"</span><span class="p">,</span>
  <span class="s2">"blockchain"</span><span class="p">:</span> <span class="s2">"neo"</span><span class="p">,</span>
  <span class="s2">"reason_code"</span><span class="p">:</span> <span class="mi">9</span><span class="p">,</span>
  <span class="s2">"address"</span><span class="p">:</span> <span class="s2">"87cf67daa0c1e9b6caa1443cf5555b09cb3f8e5f"</span><span class="p">,</span>
  <span class="s2">"transaction_hash"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2018-07-14T05:12:29.699Z"</span><span class="p">,</span>
  <span class="s2">"updated_at"</span><span class="p">:</span> <span class="s2">"2018-07-14T05:12:29.765Z"</span><span class="p">,</span>
  <span class="s2">"contract_hash"</span><span class="p">:</span> <span class="s2">"&lt;contract hash&gt;"</span>
<span class="p">}</span>
</code></pre>
<p>This is the second endpoint required to execute a withdrawal.
After using the <a href="#create-withdrawal">Create Withdrawal</a> endpoint,
you will receive a response which requires additional signing.</p>
<h4 id='http-request-22'>HTTP Request</h4>
<p><code>POST /v2/withdrawals/:id/broadcast</code></p>
<h4 id='request-parameters-14'>Request Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td><strong>string</strong></td>
<td>yes</td>
<td><code>id</code> parameter in the response from create withdrawal endpoint.</td>
</tr>
<tr>
<td>timestamp</td>
<td><a href="#timestamp">timestamp</a></td>
<td>yes</td>
<td>The exchange&#39;s timestamp to be used as a nonce.</td>
</tr>
<tr>
<td>signature</td>
<td><strong>string</strong></td>
<td>yes</td>
<td>Signature of the request payload. See <a href="#authentication">Authentication</a> for more details.</td>
</tr>
</tbody></table>
<h4 id='example-7'>Example</h4>
<p><a href="https://github.com/ConjurTech/switcheo-api-examples/blob/master/src/examples/withdrawals/executeWithdrawalExample.js">Full execute withdrawal example</a></p>
<h2 id='orders'>Orders</h2>
<p>Orders are instructions to trade tokens on Switcheo Exchange.</p>
<h3 id='overview-5'>Overview</h3>
<p><code>limit</code>, <code>market</code> and <code>otc</code> type orders are available. Fill-Or-Kill, Post-Only, etc. strategies are not yet available.</p>

<p>Orders will contain a combination of zero or one <strong>make</strong> and/or zero or more <strong>fills</strong> once matched.</p>

<p>When an order is executed, the funds required to fulfill the order is debited from the user&#39;s <a href="#balances">confirmed balance</a>
 and will be locked up in their locked balance until the order is filled or cancelled.</p>
<h3 id='the-order-model'>The Order Model</h3>
<p>A breakdown of attributes in an order object returned from our API is described below.</p>
<h4 id='order-object'>Order Object</h4>
<blockquote>
<p>Example order</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c415f943-bea8-4dbf-82e3-8460c559d8b7"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"blockchain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"neo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"contract_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c41d8b0c30252ce7e8b6d95e9ce13fdd68d2a5a8"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20abeefe84e4059f6681bf96d5dcb5ddeffcc377"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"offer_asset_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c56f33fc6ecfcd0c225c4ab356fee59390af8560be0e930faebe74a6daff7c9b"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"want_asset_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"602c79718b16e442de58778e148d0b1084e3b2dffd5de6b7b16cee7969282de7"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"offer_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"want_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20000000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"transfer_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"priority_gas_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"use_native_token"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"native_fee_transfer_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"deposit_txn"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-15T10:54:20.054Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"processed"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"completed"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fills"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">],</span><span class="w">
    </span><span class="s2">"fill_groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">],</span><span class="w">
    </span><span class="s2">"makes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique identifier for the order object.</td>
</tr>
<tr>
<td>blockchain</td>
<td>The blockchain that the order exists on.</td>
</tr>
<tr>
<td>contract_hash</td>
<td>Switcheo Exchange <a href="#contracts">contract hash</a> that the order is on.</td>
</tr>
<tr>
<td>address</td>
<td>Wallet <a href="#addresses">Address</a> of the order maker.</td>
</tr>
<tr>
<td>side</td>
<td>Whether the order maker is buying or selling.</td>
</tr>
<tr>
<td>offer_asset_id</td>
<td><a href="#supported-assets">Asset ID</a> of the token that the order maker is offering.</td>
</tr>
<tr>
<td>want_asset_id</td>
<td><a href="#supported-assets">Asset ID</a> of the token that the order maker wants.</td>
</tr>
<tr>
<td>offer_amount</td>
<td>Total <a href="#amounts">amount</a> of the token that the order maker is offering.</td>
</tr>
<tr>
<td>want_amount</td>
<td>Total <a href="#amounts">amount</a> of the token that the order maker wants.</td>
</tr>
<tr>
<td>use_native_token</td>
<td>Whether SWTH tokens was used by the order maker to pay taker fees.</td>
</tr>
<tr>
<td>order_status</td>
<td>Status of the order in the context of the exchange. Possible values are <code>open</code> (on orderbook waiting to be filled),<code>cancelled</code> (cancelled open order), <code>completed</code> (maker order that is entirely filled or broadcasted filler order)</td>
</tr>
<tr>
<td>txn</td>
<td>Serialized blockchain transaction that will execute this order. <strong>Used for EOS only.</strong></td>
</tr>
<tr>
<td>fills</td>
<td>Refer to the <a href="#the-fill-object">fills</a> section for more details.</td>
</tr>
<tr>
<td>fill groups</td>
<td>Refer to the <a href="#the-fill-group-object">fills groups</a> section for more details.</td>
</tr>
<tr>
<td>makes</td>
<td>Refer to the <a href="#the-make-object">makes</a> section for more details.</td>
</tr>
<tr>
<td>created_at</td>
<td>Time when the order was created.</td>
</tr>
<tr>
<td>transfer_amount</td>
<td>DEPRECATED. <a href="#amounts">Amount</a> (out of the <code>offer_amount</code>) that was deposited into the contract in order to create the order.</td>
</tr>
<tr>
<td>native_fee_transfer_amount</td>
<td>DEPRECATED. Amount of SWTH that was deposited into the contract in order to pay the taker fees of the order.</td>
</tr>
<tr>
<td>priority_gas_amount</td>
<td>DEPRECATED. Amount of gas paid by the order maker as priority.</td>
</tr>
<tr>
<td>status</td>
<td>DEPRECATED. Status of the order in the context of the blockchain. Possible values are <code>pending</code> (after creation), <code>processed</code> (after broadcast), <code>expired</code> (created but not broadcasted for a long time)</td>
</tr>
<tr>
<td>deposit_txn</td>
<td>DEPRECATED. Transaction that was used for deposits related to the order creation.</td>
</tr>
</tbody></table>
<h5 id='fill-object'>Fill Object</h5>
<blockquote>
<p>Example fill</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"6531a67c-6b2e-49b6-8a33-20dfb32b5d8e"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"offer_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"fcc8ef7fa17cd540b2e0cbbed9e231db9994279b08618208a4dee292370b38b9"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"offer_asset_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab38352559b8b203bde5fddfa0b07d8b2525e132"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"want_asset_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c56f33fc6ecfcd0c225c4ab356fee59390af8560be0e930faebe74a6daff7c9b"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fill_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"want_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"filled_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fee_asset_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c56f33fc6ecfcd0c225c4ab356fee59390af8560be0e930faebe74a6daff7c9b"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fee_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1500"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.01"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"txn"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">Object</span><span class="p">],</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-08T07:23:32.299Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"transaction_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c51232abf42935a52d6c27122e5de5f92b33ffc43f9a85c5ee6353009c81f80c"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>When an order is created, the order matching engine will match the order against existing offers.</p>

<p>If any matching offers are found, then <code>fills</code> are created.
These <code>fills</code> represent the filling of the order by the matching offers.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique identifier for the fill object.</td>
</tr>
<tr>
<td>offer_hash</td>
<td>The hash of the corresponding offer for this fill object.</td>
</tr>
<tr>
<td>offer_asset_id</td>
<td><a href="#supported-assets">Asset ID</a> of the token that the order maker is offering.</td>
</tr>
<tr>
<td>want_asset_id</td>
<td><a href="#supported-assets">Asset ID</a> of the token that the order maker wants.</td>
</tr>
<tr>
<td>fill_amount</td>
<td><a href="#amounts">Amount</a> of tokens that the target offer wants.</td>
</tr>
<tr>
<td>want_amount</td>
<td><a href="#amounts">Amount</a> of tokens that is being taken from the target offer.</td>
</tr>
<tr>
<td>filled_amount</td>
<td><a href="#amounts">Amount</a> of tokens that is given to the target offer.</td>
</tr>
<tr>
<td>fee_asset_id</td>
<td><a href="#supported-assets">Asset id</a> of the token used for fees.</td>
</tr>
<tr>
<td>fee_amount</td>
<td><a href="#amounts">Amount</a> of fees paid for the fill.</td>
</tr>
<tr>
<td>price</td>
<td>The buy or sell price of order.</td>
</tr>
<tr>
<td>txn</td>
<td>The transaction representing this fill.</td>
</tr>
<tr>
<td>status</td>
<td>Status of the fill. Possible values are <code>pending</code> (after order creation), <code>confirming</code> (after order broadcast), <code>success</code> (after broadcast success), <code>expired</code> (after order creation but not broadcasted for a long while)</td>
</tr>
<tr>
<td>created_at</td>
<td>Time when the fill was created.</td>
</tr>
<tr>
<td>transaction_hash</td>
<td>Transaction hash of the transaction representing this fill.</td>
</tr>
</tbody></table>
<h5 id='fill-group-object'>Fill Group Object</h5>
<blockquote>
<p>Example fill group</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"7193c1e3-c9ab-429c-881c-429169880cfc"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0f936dce97a9a5c50becc3f58a4842b4c607e722"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fill_ids"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
    </span><span class="s2">"dd08787b-242c-4eb5-8c53-3e9d2f4be4cd"</span><span class="w">
  </span><span class="p">],</span><span class="w">
  </span><span class="s2">"txn"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">Object</span><span class="p">],</span><span class="w">
  </span><span class="s2">"fee_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4242000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fee_asset_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0000000000000000000000000000000000000000"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Fills are grouped into sets for ETH.</p>

<p>This reduces the number of signature requests needed for an order, instead of signing
multiple fills individually, a group of fills can be signed with one signature request.</p>

<p>This feature also minimizes ETH network gas costs.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique identifier for the fill group object.</td>
</tr>
<tr>
<td>address</td>
<td><a href="#addresses">Address</a> of the filler.</td>
</tr>
<tr>
<td>fill_ids</td>
<td>The IDs grouped under this fill group.</td>
</tr>
<tr>
<td>txn</td>
<td>The transaction representing this fill group.</td>
</tr>
<tr>
<td>fee_amount</td>
<td><a href="#amounts">Amount</a> of fees paid for this fill group.</td>
</tr>
<tr>
<td>fee_asset_id</td>
<td><a href="#supported-assets">Asset id</a> of the token used for the fee.</td>
</tr>
</tbody></table>
<h5 id='make-object'>Make Object</h5>
<blockquote>
<p>Example make</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"dc8a36dd-c405-4999-875a-ce619aecbb5c"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"offer_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"3423bd82c6e2ec36ccba7a949d5732905e5c6b179517c8aebd9caf72977d817d"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"available_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"offer_asset_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ab38352559b8b203bde5fddfa0b07d8b2525e132"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"offer_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567800"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"want_asset_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c56f33fc6ecfcd0c225c4ab356fee59390af8560be0e930faebe74a6daff7c9b"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"want_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"111111102"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"filled_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"1234567800"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"txn"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">Object</span><span class="p">],</span><span class="w">
  </span><span class="s2">"cancel_txn"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">Object</span><span class="p">],</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.09"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-06-08T07:21:19.988Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"transaction_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ff6e73805aed42d445ec0e8d47375e024a7d8c99cd5b8c375d607fec61b80567"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>When an order is created, the order matching engine will match the order against existing offers.</p>

<p>If the order is not fully filled by existing offers, a <code>make</code> is created.
This <code>make</code> represents the unfilled amount of the order.</p>

<table><thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Unique identifier for the make object.</td>
</tr>
<tr>
<td>offer_hash</td>
<td>The hash of the corresponding offer for this make object.</td>
</tr>
<tr>
<td>available_amount</td>
<td>Remaining <a href="#amounts">amount</a> of the offered tokens in the make that has not been filled by other offers.</td>
</tr>
<tr>
<td>offer_asset_id</td>
<td><a href="#supported-assets">Asset ID</a> of the token that the make is offering.</td>
</tr>
<tr>
<td>offer_amount</td>
<td><a href="#amounts">Amount</a> of tokens that the make is offering.</td>
</tr>
<tr>
<td>want_asset_id</td>
<td><a href="#supported-assets">Asset ID</a> of the token that the make wants.</td>
</tr>
<tr>
<td>want_amount</td>
<td><a href="#amounts">Amount</a> of tokens that the make wants.</td>
</tr>
<tr>
<td>filled_amount</td>
<td><a href="#amounts">Amount</a> of tokens out of the make&#39;s <code>offer_amount</code> that has been taken by other orders.</td>
</tr>
<tr>
<td>txn</td>
<td>The transaction representing this make.</td>
</tr>
<tr>
<td>cancel_txn</td>
<td>If this make was cancelled, this parameter would be the transaction that represents the cancellation.</td>
</tr>
<tr>
<td>price</td>
<td>Buy or sell price of order.</td>
</tr>
<tr>
<td>status</td>
<td>Status of the make. Possible values are <code>pending</code> (after order creation), <code>confirming</code> (after order broadcast), <code>success</code> (after broadcast success), <code>cancelling</code> (after cancellation broadcasted), <code>cancelled</code> (after cancellation broadcast success), <code>expired</code> (after order creation but not broadcasted for a long while)</td>
</tr>
<tr>
<td>created_at</td>
<td>Time when the make was created.</td>
</tr>
<tr>
<td>transaction_hash</td>
<td>Transaction hash of the transaction representing this make.</td>
</tr>
</tbody></table>
<h3 id='get-order'>GET Order</h3>
<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"order"</span><span class="p">:</span> <span class="s2">"995cfc34-8fb8-41e6-bccd-1695086267d1"</span><span class="p">,</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"995cfc34-8fb8-41e6-bccd-1695086267d1"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"blockchain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"eth"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"contract_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0xba3ed686cc32ffa8664628b1e96d8022e40543de"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x7c819b61b3a35ab718f66508d31e2cf3c25eb624"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"pair"</span><span class="p">:</span><span class="w"> </span><span class="s2">"DAI_ETH"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0.00662"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="s2">"62000000000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"use_native_token"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-11-20T03:43:48.035Z"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cancelled"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"offer_asset_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x0000000000000000000000000000000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"want_asset_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0x89d24a6b4ccb1b6faa2625fe562bdd9a23260359"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"offer_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"410440000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"want_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"62000000000000000000"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"processed"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"deposit_txn"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
  </span><span class="s2">"transfer_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"priority_gas_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"native_fee_transfer_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"fill_groups"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">],</span><span class="w">
  </span><span class="s2">"fills"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">],</span><span class="w">
  </span><span class="s2">"makes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Retrieves a specific order</p>
<h4 id='http-request-23'>HTTP Request</h4>
<p><code>GET /v2/orders/:order_id</code></p>
<h4 id='request-parameters-15'>Request Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>order_id</td>
<td><strong>string</strong></td>
<td>yes</td>
<td>Return order details for a specific order id</td>
</tr>
</tbody></table>
<h3 id='get-orders'>GET Orders</h3>
<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"address"</span><span class="p">:</span> <span class="s2">"87cf67daa0c1e9b6caa1443cf5555b09cb3f8e5f"</span><span class="p">,</span>
  <span class="s2">"contract_hash"</span><span class="p">:</span> <span class="s2">"&lt;contract hash&gt;"</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example Response</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c415f943-bea8-4dbf-82e3-8460c559d8b7"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"blockchain"</span><span class="p">:</span><span class="w"> </span><span class="s2">"neo"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"contract_hash"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c41d8b0c30252ce7e8b6d95e9ce13fdd68d2a5a8"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"address"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20abeefe84e4059f6681bf96d5dcb5ddeffcc377"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"offer_asset_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"c56f33fc6ecfcd0c225c4ab356fee59390af8560be0e930faebe74a6daff7c9b"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"want_asset_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"602c79718b16e442de58778e148d0b1084e3b2dffd5de6b7b16cee7969282de7"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"offer_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"100000000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"want_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20000000"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"transfer_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"priority_gas_amount"</span><span class="p">:</span><span class="w"> </span><span class="s2">"0"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"use_native_token"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="s2">"native_fee_transfer_amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
    </span><span class="s2">"deposit_txn"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
    </span><span class="s2">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2018-05-15T10:54:20.054Z"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"processed"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"order_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"processed"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"fills"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">],</span><span class="w">
    </span><span class="s2">"makes"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="err">...</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Retrieves orders from a specific address filtered by the given parameters.</p>
<h4 id='http-request-24'>HTTP Request</h4>
<p><code>GET /v2/orders</code></p>
<h4 id='request-parameters-16'>Request Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>address</td>
<td><a href="#addresses">address</a></td>
<td>yes</td>
<td>Only return orders made by this <a href="#addresses">address</a>.</td>
</tr>
<tr>
<td>pair</td>
<td><strong>string</strong></td>
<td>no</td>
<td>Only return orders from this <a href="#pair">pair</a>.</td>
</tr>
<tr>
<td>contract_hash</td>
<td><strong>string</strong></td>
<td>yes</td>
<td>Only return orders from this <a href="#contracts">contract hash</a>.</td>
</tr>
<tr>
<td>from</td>
<td><strong>integer</strong></td>
<td>no</td>
<td>Only return orders that are last updated at or after this time in UNIX timestamp format</td>
</tr>
<tr>
<td>order_status</td>
<td><strong>string</strong></td>
<td>no</td>
<td>Only return orders have this status. Possible values are <code>open</code>, <code>cancelled</code>, <code>completed</code></td>
</tr>
<tr>
<td>before_id</td>
<td><strong>string</strong></td>
<td>no</td>
<td>Only return orders that are created before the order with this id</td>
</tr>
<tr>
<td>limit</td>
<td><strong>integer</strong></td>
<td>no</td>
<td>Only return up to this number of orders (min: <code>1</code>, max: <code>200</code>, default: <code>50</code>).</td>
</tr>
</tbody></table>
<h4 id='example-8'>Example</h4>
<p><a href="https://github.com/ConjurTech/switcheo-api-examples/blob/master/src/examples/orders/listOrdersExample.js">Full list orders example</a></p>
<h3 id='post-create-order'>POST Create Order</h3>
<p>This endpoint creates an order which can be executed through <a href="#execute-order">Broadcast Order</a>.
Orders can only be created after sufficient funds have been <a href="#deposits">deposited</a> into the user&#39;s contract balance.
A successful order will have zero or one <strong>make</strong> and/or zero or more <strong>fills</strong>.</p>

<aside class="notice">
  IMPORTANT: After calling this endpoint, the Broadcast Order endpoint has to be called for the order to be executed.
</aside>
<h4 id='atomic-swap-orders'>Atomic Swap Orders</h4>
<p>Atomic Swap orders can be created through this endpoint.
The <a href="#get-swap-pricing">swap pricing</a> endpoint can be used to determine the expected amount that will be received for a swap.</p>
<h4 id='http-request-25'>HTTP Request</h4>
<p><code>POST /v2/orders</code></p>
<h4 id='request-parameters-17'>Request Parameters</h4>
<p>For the below descriptions, the <code>order maker</code> refers to your API user.</p>

<blockquote>
<p>Create an order</p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">createOrder</span><span class="p">({</span> <span class="nx">pair</span><span class="p">,</span> <span class="nx">blockchain</span><span class="p">,</span> <span class="nx">side</span><span class="p">,</span> <span class="nx">price</span><span class="p">,</span>
                       <span class="nx">quantity</span><span class="p">,</span> <span class="nx">useNativeTokens</span><span class="p">,</span> <span class="nx">orderType</span><span class="p">,</span>
                       <span class="nx">privateKey</span><span class="p">,</span> <span class="nx">address</span> <span class="p">})</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">signableParams</span> <span class="o">=</span> <span class="p">{</span> <span class="nx">pair</span><span class="p">,</span> <span class="nx">blockchain</span><span class="p">,</span> <span class="nx">side</span><span class="p">,</span> <span class="nx">price</span><span class="p">,</span> <span class="nx">quantity</span><span class="p">,</span>
                           <span class="nx">useNativeTokens</span><span class="p">,</span> <span class="nx">orderType</span><span class="p">,</span> <span class="na">timestamp</span><span class="p">:</span> <span class="nx">getTimestamp</span><span class="p">(),</span>
                           <span class="na">contractHash</span><span class="p">:</span> <span class="nx">CONTRACT_HASH</span> <span class="p">}</span>

  <span class="kr">const</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">signParams</span><span class="p">(</span><span class="nx">signableParams</span><span class="p">,</span> <span class="nx">privateKey</span><span class="p">)</span>
  <span class="kr">const</span> <span class="nx">apiParams</span> <span class="o">=</span> <span class="p">{</span> <span class="p">...</span><span class="nx">signableParams</span><span class="p">,</span> <span class="nx">address</span><span class="p">,</span> <span class="nx">signature</span> <span class="p">}</span>
  <span class="k">return</span> <span class="nx">api</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">API_URL</span> <span class="o">+</span> <span class="s1">'/orders'</span><span class="p">,</span> <span class="nx">apiParams</span><span class="p">)</span>
<span class="p">}</span>

<span class="c1">// NOTE: in this example, the parameters can be in camel case because</span>
<span class="c1">// the `signParams` and `api.post` method automatically convert param keys</span>
<span class="c1">// to snake case</span>
<span class="nx">createOrder</span><span class="p">({</span>
  <span class="na">pair</span><span class="p">:</span> <span class="s1">'SWTH_NEO'</span><span class="p">,</span>
  <span class="na">blockchain</span><span class="p">:</span> <span class="s1">'neo'</span><span class="p">,</span>
  <span class="na">address</span><span class="p">:</span> <span class="nx">user</span><span class="p">.</span><span class="nx">address</span><span class="p">,</span>
  <span class="na">side</span><span class="p">:</span> <span class="s1">'buy'</span><span class="p">,</span>
  <span class="na">price</span><span class="p">:</span> <span class="p">(</span><span class="mf">0.001</span><span class="p">).</span><span class="nx">toFixed</span><span class="p">(</span><span class="mi">8</span><span class="p">),</span>
  <span class="na">quantity</span><span class="p">:</span> <span class="nx">toAssetAmount</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="s1">'SWTH'</span><span class="p">),</span>
  <span class="na">useNativeTokens</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="na">orderType</span><span class="p">:</span> <span class="s1">'limit'</span><span class="p">,</span>
  <span class="na">privateKey</span><span class="p">:</span> <span class="nx">user</span><span class="p">.</span><span class="nx">privateKey</span>
<span class="p">})</span>
</code></pre>
<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"pair"</span><span class="p">:</span> <span class="s2">"SWTH_NEO"</span><span class="p">,</span>
  <span class="s2">"blockchain"</span><span class="p">:</span> <span class="s2">"neo"</span><span class="p">,</span>
  <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"buy"</span><span class="p">,</span>
  <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"0.00100000"</span><span class="p">,</span>
  <span class="s2">"quantity"</span><span class="p">:</span> <span class="s2">"100000000000"</span><span class="p">,</span>
  <span class="s2">"use_native_tokens"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"order_type"</span><span class="p">:</span> <span class="s2">"limit"</span><span class="p">,</span>
  <span class="s2">"timestamp"</span><span class="p">:</span> <span class="mi">1531541888559</span><span class="p">,</span>
  <span class="s2">"contract_hash"</span><span class="p">:</span> <span class="s2">"&lt;contract hash&gt;"</span><span class="p">,</span>
  <span class="s2">"address"</span><span class="p">:</span> <span class="s2">"87cf67daa0c1e9b6caa1443cf5555b09cb3f8e5f"</span><span class="p">,</span>
  <span class="s2">"signature"</span><span class="p">:</span> <span class="s2">"&lt;signature&gt;"</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example response</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"cfd3805c-50e1-4786-a81f-a60ffba33434"</span><span class="p">,</span>
  <span class="s2">"blockchain"</span><span class="p">:</span> <span class="s2">"neo"</span><span class="p">,</span>
  <span class="s2">"contract_hash"</span><span class="p">:</span> <span class="s2">"eed0d2e14b0027f5f30ade45f2b23dc57dd54ad2"</span><span class="p">,</span>
  <span class="s2">"address"</span><span class="p">:</span> <span class="s2">"87cf67daa0c1e9b6caa1443cf5555b09cb3f8e5f"</span><span class="p">,</span>
  <span class="s2">"side"</span><span class="p">:</span> <span class="s2">"buy"</span><span class="p">,</span>
  <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"0.00100000"</span><span class="p">,</span>
  <span class="s2">"quantity"</span><span class="p">:</span> <span class="s2">"100000000000"</span><span class="p">,</span>
  <span class="s2">"offer_asset_id"</span><span class="p">:</span> <span class="s2">"c56f33fc6ecfcd0c225c4ab356fee59390af8560be0e930faebe74a6daff7c9b"</span><span class="p">,</span>
  <span class="s2">"want_asset_id"</span><span class="p">:</span> <span class="s2">"ab38352559b8b203bde5fddfa0b07d8b2525e132"</span><span class="p">,</span>
  <span class="s2">"offer_amount"</span><span class="p">:</span> <span class="s2">"100000000"</span><span class="p">,</span>
  <span class="s2">"want_amount"</span><span class="p">:</span> <span class="s2">"100000000000"</span><span class="p">,</span>
  <span class="s2">"transfer_amount"</span><span class="p">:</span> <span class="s2">"0"</span><span class="p">,</span>
  <span class="s2">"priority_gas_amount"</span><span class="p">:</span> <span class="s2">"0"</span><span class="p">,</span>
  <span class="s2">"use_native_token"</span><span class="p">:</span> <span class="kc">true</span><span class="p">,</span>
  <span class="s2">"native_fee_transfer_amount"</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="s2">"deposit_txn"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
  <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2018-07-13T07:58:11.340Z"</span><span class="p">,</span>
  <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"pending"</span><span class="p">,</span>
  <span class="s2">"order_status"</span><span class="p">:</span> <span class="s2">"nil"</span><span class="p">,</span>
  <span class="s2">"fills"</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"2eaa3621-0e7e-4b3d-9c8c-454427f20949"</span><span class="p">,</span>
      <span class="s2">"offer_hash"</span><span class="p">:</span> <span class="s2">"bb70a40e8465596bf63dbddf9862a009246e3ca27a4cf5140d70f01bdd107277"</span><span class="p">,</span>
      <span class="s2">"offer_asset_id"</span><span class="p">:</span> <span class="s2">"c56f33fc6ecfcd0c225c4ab356fee59390af8560be0e930faebe74a6daff7c9b"</span><span class="p">,</span>
      <span class="s2">"want_asset_id"</span><span class="p">:</span> <span class="s2">"ab38352559b8b203bde5fddfa0b07d8b2525e132"</span><span class="p">,</span>
      <span class="s2">"fill_amount"</span><span class="p">:</span> <span class="s2">"1031498"</span><span class="p">,</span>
      <span class="s2">"want_amount"</span><span class="p">:</span> <span class="s2">"2050000000"</span><span class="p">,</span>
      <span class="s2">"filled_amount"</span><span class="p">:</span> <span class="s2">""</span><span class="p">,</span>
      <span class="s2">"fee_asset_id"</span><span class="p">:</span> <span class="s2">"ab38352559b8b203bde5fddfa0b07d8b2525e132"</span><span class="p">,</span>
      <span class="s2">"fee_amount"</span><span class="p">:</span> <span class="s2">"1537500"</span><span class="p">,</span>
      <span class="s2">"price"</span><span class="p">:</span> <span class="s2">"0.00050317"</span><span class="p">,</span>
      <span class="s2">"txn"</span><span class="p">:</span> <span class="p">[</span><span class="nb">Object</span><span class="p">],</span>
      <span class="s2">"status"</span><span class="p">:</span> <span class="s2">"pending"</span><span class="p">,</span>
      <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2018-07-13T07:58:11.353Z"</span><span class="p">,</span>
      <span class="s2">"transaction_hash"</span><span class="p">:</span> <span class="s2">"97ad8c0af68d22304e7f2d09d04f3beed29a845fe57de53444fff1507b752b99"</span>
    <span class="p">}</span>
  <span class="p">],</span>
  <span class="s2">"makes"</span><span class="p">:</span> <span class="p">[]</span>
<span class="p">}</span>
</code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>blockchain</td>
<td><strong>string</strong></td>
<td>yes</td>
<td>Blockchain that the <code>pair</code> is on. Possible values are: <code>neo</code>, <code>eth</code>. This should be the blockchain of the offer_asset for Atomic Swap orders.</td>
</tr>
<tr>
<td>contract_hash</td>
<td><strong>string</strong></td>
<td>yes</td>
<td>Switcheo Exchange <a href="#get-contracts">contract hash</a> to execute the order on. For Atomic Swap orders, this should be the contract_hash for the blockchain of the <code>offer_asset</code>.</td>
</tr>
<tr>
<td>pair</td>
<td><strong>string</strong></td>
<td>yes</td>
<td>Pair to trade, e.g. <code>SWTH_NEO</code>.</td>
</tr>
<tr>
<td>side</td>
<td><strong>string</strong></td>
<td>yes</td>
<td>Whether to buy or sell on this pair. Possible values are: <code>buy</code>, <code>sell</code>. If the pair is <code>SWTH_NEO</code> and the side is <code>buy</code> then the order is to buy <code>SWTH</code> using <code>NEO</code>. If the side is <code>sell</code> then the order is to sell <code>SWTH</code> for <code>NEO</code>.</td>
</tr>
<tr>
<td>price</td>
<td><strong>string</strong></td>
<td>yes</td>
<td>Buy or sell price rounded to the pair&#39;s price precision, found on <a href="#get-pairs">Get Pairs</a>. Set value to <code>null</code> for market type and Atomic Swap orders.</td>
</tr>
<tr>
<td>quantity</td>
<td><a href="#amounts">amount</a></td>
<td>yes</td>
<td>The <a href="#amounts">amount</a> of tokens you wish to trade. Set value to <code>null</code> for Atomic Swap orders.</td>
</tr>
<tr>
<td>offer_amount</td>
<td><a href="#amounts">amount</a></td>
<td>no</td>
<td>The <a href="#amounts">amount</a> of tokens to offer for an Atomic Swap. Must be provided if and only if the order pair is an Atomic Swap pair.</td>
</tr>
<tr>
<td>use_native_tokens</td>
<td><strong>boolean</strong></td>
<td>yes</td>
<td><code>true</code> if you wish to pay fees in SWTH. Use only <code>false</code> for orders on the Ethereum network.</td>
</tr>
<tr>
<td>order_type</td>
<td><strong>string</strong></td>
<td>yes</td>
<td>Order type, possible values are: <code>limit</code>, <code>market</code>, <code>otc</code>. This type must be set as <code>market</code> for Atomic Swap orders.</td>
</tr>
<tr>
<td>otc_address</td>
<td><a href="#addresses">address</a></td>
<td>no</td>
<td>Address of the counterparty in OTC trades. Must be provided if and only if <code>order_type</code> is <code>otc</code>.</td>
</tr>
<tr>
<td>timestamp</td>
<td><a href="#timestamp">timestamp</a></td>
<td>yes</td>
<td>The exchange&#39;s timestamp to be used as a nonce.</td>
</tr>
<tr>
<td>signature</td>
<td><strong>string</strong></td>
<td>yes</td>
<td>Signature of the request payload. See <a href="#authentication">Authentication</a> for more details.</td>
</tr>
<tr>
<td>address</td>
<td><a href="#addresses">address</a></td>
<td>yes</td>
<td><a href="#addresses">Address</a> of the order maker. <strong>Do not include this in the parameters to be signed.</strong></td>
</tr>
<tr>
<td>receiving_address</td>
<td><a href="#addresses">address</a></td>
<td>no</td>
<td>Address to receive the <code>want_asset</code>. Must be provided if and only if the order pair is an Atomic Swap pair.</td>
</tr>
<tr>
<td>worst_acceptable_price</td>
<td><strong>string</strong></td>
<td>no</td>
<td>The worst acceptable price of an Atomic Swap. If the <a href="#get-swap-pricing">Atomic Swap pricing</a> changes to be worse than this, then the order will not be created. Must be provided if and only if the order pair is an Atomic Swap pair.</td>
</tr>
</tbody></table>
<h4 id='example-9'>Example</h4>
<p><a href="https://github.com/ConjurTech/switcheo-api-examples/blob/master/src/examples/orders/createOrderExample.js">Full create order example</a></p>
<h3 id='post-execute-order'>POST Execute Order</h3>
<p>This is the second endpoint required to execute an order.
After using the <a href="#create-order">Create Order</a> endpoint, you will receive a response which needs to be signed.</p>

<blockquote>
<p>Format of signatures parameter</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="c1">// NEO &amp; ETH:</span>
  <span class="nl">makes</span><span class="p">:</span> <span class="p">{</span>
    <span class="o">&lt;</span><span class="nx">make_id</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="nx">signature</span><span class="o">&gt;</span>
  <span class="p">},</span>
  <span class="c1">// NEO only:</span>
  <span class="nx">fills</span><span class="p">:</span> <span class="p">{</span>
    <span class="o">&lt;</span><span class="nx">fill_id_1</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="nx">signature_1</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="o">&lt;</span><span class="nx">fill_id_2</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="nx">signature_2</span><span class="o">&gt;</span>
  <span class="p">},</span>
  <span class="c1">// ETH only:</span>
  <span class="nx">fill_groups</span><span class="p">:</span> <span class="p">{</span>
    <span class="o">&lt;</span><span class="nx">fill_group_id_1</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="nx">signature_3</span><span class="o">&gt;</span><span class="p">,</span>
    <span class="o">&lt;</span><span class="nx">fill_group_id_2</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="nx">signature_4</span><span class="o">&gt;</span>
  <span class="p">},</span>
  <span class="c1">// EOS only:</span>
  <span class="nx">order</span><span class="p">:</span> <span class="p">{</span>
    <span class="o">&lt;</span><span class="nx">id</span><span class="o">&gt;</span><span class="p">:</span> <span class="o">&lt;</span><span class="nx">order_signature</span><span class="o">&gt;</span><span class="p">,</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<p>Every <code>txn</code> in the <code>fills</code>, <code>fill_groups</code> and <code>makes</code> of the Create Order response should be <a href="#authentication">signed</a>,
and structured in the <code>signatures</code> format shown on the right.</p>

<p><strong>NOTE:</strong> The <code>txn</code> of <code>fills</code> for ETH will be empty, only the <code>txn</code> of the <code>fill_groups</code> need to be signed for ETH-based orders. Please see <a href="#fill-group-object">Fill Groups</a> for more details.</p>

<p><strong>NOTE:</strong> The <code>makes</code>, <code>fills</code> and <code>fill_groups</code> arrays for EOS will initially be empty as orders are matched on-chain.
Only the root <code>txn</code> needs to be signed for EOS-based orders.</p>

<p>Please see the <a href="#authentication">Authentication</a> section on how to perform the <code>signTransaction</code> operation.</p>
<h4 id='http-request-26'>HTTP Request</h4>
<p><code>POST /v2/orders/:id/broadcast</code></p>
<h4 id='request-parameters-18'>Request Parameters</h4>
<blockquote>
<p>Broadcast an order</p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">signArray</span><span class="p">(</span><span class="nx">array</span><span class="p">,</span> <span class="nx">privateKey</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="nx">array</span><span class="p">.</span><span class="nx">reduce</span><span class="p">((</span><span class="nx">map</span><span class="p">,</span> <span class="nx">item</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">txn</span><span class="p">)</span> <span class="p">{</span>
      <span class="nx">map</span><span class="p">[</span><span class="nx">item</span><span class="p">.</span><span class="nx">id</span><span class="p">]</span> <span class="o">=</span> <span class="nx">signTransaction</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">txn</span><span class="p">,</span> <span class="nx">privateKey</span><span class="p">)</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">map</span>
  <span class="p">},</span> <span class="p">{})</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">broadcastOrder</span><span class="p">({</span> <span class="nx">order</span><span class="p">,</span> <span class="nx">privateKey</span> <span class="p">})</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="p">{</span> <span class="nx">fills</span><span class="p">,</span> <span class="nx">makes</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">order</span>
  <span class="kr">const</span> <span class="nx">signatures</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">makes</span><span class="p">:</span> <span class="nx">signArray</span><span class="p">(</span><span class="nx">order</span><span class="p">.</span><span class="nx">makes</span><span class="p">,</span> <span class="nx">privateKey</span><span class="p">),</span>
    <span class="na">fills</span><span class="p">:</span> <span class="nx">signArray</span><span class="p">(</span><span class="nx">order</span><span class="p">.</span><span class="nx">fills</span><span class="p">,</span> <span class="nx">privateKey</span><span class="p">),</span>
    <span class="na">fill_groups</span><span class="p">:</span> <span class="nx">signArray</span><span class="p">(</span><span class="nx">order</span><span class="p">.</span><span class="nx">fill_groups</span><span class="p">,</span> <span class="nx">privateKey</span><span class="p">),</span>
    <span class="na">order</span><span class="p">:</span> <span class="nx">signArray</span><span class="p">([</span><span class="nx">order</span><span class="p">],</span> <span class="nx">privateKey</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span><span class="nx">API_URL</span><span class="p">}</span><span class="s2">/orders/</span><span class="p">${</span><span class="nx">order</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="s2">/broadcast`</span>
  <span class="k">return</span> <span class="nx">api</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="p">{</span> <span class="nx">signatures</span> <span class="p">})</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"signatures"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"makes"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"ufdh03kt-23jg-h6k5-45fd-56dfy7ks0g9a"</span><span class="p">:</span> <span class="s2">"&lt;signature_3&gt;"</span>
    <span class="p">},</span>
    <span class="c1">// NEO only:</span>
    <span class="s2">"fills"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"c821c814-d4a3-475b-b461-e909d8c8a59a"</span><span class="p">:</span> <span class="s2">"&lt;signature_1&gt;"</span><span class="p">,</span>
      <span class="s2">"d034djb1-9sd8-5b6k-1f9g-40fd9jntk86k"</span><span class="p">:</span> <span class="s2">"&lt;signature_2&gt;"</span><span class="p">,</span>
    <span class="p">},</span>
    <span class="c1">// ETH only:</span>
    <span class="s2">"fill_groups"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"6f9afaeb-1866-47d5-b7d8-061eab1b5fbc"</span><span class="p">:</span> <span class="s2">"&lt;signature_4&gt;"</span><span class="p">,</span>
      <span class="s2">"94a282ed-bf89-40e2-b0ea-7d3a0dac3c68"</span><span class="p">:</span> <span class="s2">"&lt;signature_5&gt;"</span>
    <span class="p">},</span>
    <span class="c1">// EOS only:</span>
    <span class="s2">"order"</span><span class="p">:</span> <span class="p">{</span>
      <span class="s2">"cfd3805c-50e1-4786-a81f-a60ffba33434"</span><span class="p">:</span> <span class="s2">"&lt;order_signature&gt;"</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>signatures</td>
<td><strong>hash</strong></td>
<td>yes</td>
<td>See the section description and example for the format.</td>
</tr>
</tbody></table>
<h4 id='example-10'>Example</h4>
<p><a href="https://github.com/ConjurTech/switcheo-api-examples/blob/master/src/examples/orders/broadcastOrderExample.js">Full broadcast order example</a></p>
<h3 id='post-create-cancellation'>POST Create Cancellation</h3>
<blockquote>
<p>Create a cancellation</p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">createCancellation</span><span class="p">({</span> <span class="nx">order</span><span class="p">,</span> <span class="nx">address</span><span class="p">,</span> <span class="nx">privateKey</span> <span class="p">})</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">signableParams</span> <span class="o">=</span> <span class="p">{</span> <span class="na">orderId</span><span class="p">:</span> <span class="nx">order</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span> <span class="na">timestamp</span><span class="p">:</span> <span class="nx">getTimestamp</span><span class="p">()</span> <span class="p">}</span>
  <span class="kr">const</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">signParams</span><span class="p">(</span><span class="nx">signableParams</span><span class="p">,</span> <span class="nx">privateKey</span><span class="p">)</span>
  <span class="kr">const</span> <span class="nx">apiParams</span> <span class="o">=</span> <span class="p">{</span> <span class="p">...</span><span class="nx">signableParams</span><span class="p">,</span> <span class="nx">signature</span><span class="p">,</span> <span class="nx">address</span> <span class="p">}</span>
  <span class="k">return</span> <span class="nx">api</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">API_URL</span> <span class="o">+</span> <span class="s1">'/cancellations'</span><span class="p">,</span> <span class="nx">apiParams</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
<p>This is the first API call required to cancel an order.
Only orders <strong>with makes</strong> and with an <code>available_amount</code> of <strong>more than 0</strong> can be cancelled.</p>

<aside class="notice">
  IMPORTANT: After calling this endpoint, the Execute Cancellation endpoint has to be called for the cancellation to be executed.
</aside>
<h4 id='http-request-27'>HTTP Request</h4>
<p><code>POST /v2/cancellations</code></p>
<h4 id='url-parameters'>URL Parameters</h4>
<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"order_id"</span><span class="p">:</span> <span class="s2">"69c60da5-5832-4705-8390-de4bb4ed62c5"</span><span class="p">,</span>
  <span class="s2">"timestamp"</span><span class="p">:</span> <span class="mi">1531471743957</span><span class="p">,</span>
  <span class="s2">"signature"</span><span class="p">:</span> <span class="s2">"&lt;signature&gt;"</span><span class="p">,</span>
  <span class="s2">"address"</span><span class="p">:</span> <span class="s2">"87cf67daa0c1e9b6caa1443cf5555b09cb3f8e5f"</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example response</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"id"</span><span class="p">:</span> <span class="s2">"e4cf0472-59e3-4887-b2d3-720b98da0de6"</span><span class="p">,</span>
  <span class="s2">"transaction"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"hash"</span><span class="p">:</span> <span class="s2">"b4013bdfde6370198f043f2a5fb235242d20280361241d85ee0774c63856f65b"</span><span class="p">,</span>
    <span class="s2">"sha256"</span><span class="p">:</span> <span class="s2">"f760aaa9efe99059af46a2a9640e91527119e78f18322729ab620e20116b3cf8"</span><span class="p">,</span>
    <span class="s2">"type"</span><span class="p">:</span> <span class="mi">209</span><span class="p">,</span>
    <span class="s2">"version"</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
    <span class="s2">"attributes"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">[</span>
        <span class="kc">null</span>
      <span class="p">]</span>
    <span class="p">],</span>
    <span class="s2">"inputs"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">[</span>
        <span class="kc">null</span>
      <span class="p">]</span>
    <span class="p">],</span>
    <span class="s2">"outputs"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">[</span>
        <span class="kc">null</span>
      <span class="p">]</span>
    <span class="p">],</span>
    <span class="s2">"scripts"</span><span class="p">:</span> <span class="p">[],</span>
    <span class="s2">"script"</span><span class="p">:</span> <span class="s2">"206e62f9555edc1f791d36f6f081d44b249e8696ab73f41cc809db73316eff6e65349b7cffdaa674beae0f930ebe6085af9093e5fe56b34a5c220ccdcf6efc336fc532e125258b7db0a0dffde5bd03b2b859253538ab52c10b63616e63656c4f6666657267d24ad57dc53db2f245de0af3f527004be1d2d0ee"</span><span class="p">,</span>
    <span class="s2">"gas"</span><span class="p">:</span> <span class="mi">0</span>
  <span class="p">},</span>
  <span class="s2">"script_params"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"scriptHash"</span><span class="p">:</span> <span class="s2">"eed0d2e14b0027f5f30ade45f2b23dc57dd54ad2"</span><span class="p">,</span>
    <span class="s2">"operation"</span><span class="p">:</span> <span class="s2">"cancelOffer"</span><span class="p">,</span>
    <span class="s2">"args"</span><span class="p">:</span> <span class="p">[</span>
      <span class="s2">"9b7cffdaa674beae0f930ebe6085af9093e5fe56b34a5c220ccdcf6efc336fc532e125258b7db0a0dffde5bd03b2b859253538ab"</span><span class="p">,</span>
      <span class="s2">"6e62f9555edc1f791d36f6f081d44b249e8696ab73f41cc809db73316eff6e65"</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>order_id</td>
<td><strong>string</strong></td>
<td>yes</td>
<td>The ID of the order to cancel.</td>
</tr>
<tr>
<td>timestamp</td>
<td><a href="#timestamp">timestamp</a></td>
<td>yes</td>
<td>The exchange&#39;s timestamp to be used as a nonce.</td>
</tr>
<tr>
<td>signature</td>
<td><strong>string</strong></td>
<td>yes</td>
<td>Signature of the request payload. See <a href="#authentication">Authentication</a> for more details.</td>
</tr>
<tr>
<td>address</td>
<td><a href="#addresses">address</a></td>
<td>yes</td>
<td><a href="#addresses">Address</a> of the order maker. <strong>Do not include this in the parameters to be signed.</strong></td>
</tr>
</tbody></table>
<h4 id='example-11'>Example</h4>
<p><a href="https://github.com/ConjurTech/switcheo-api-examples/blob/master/src/examples/orders/createCancellationExample.js">Full create cancellation example</a></p>
<h3 id='post-execute-cancellation'>POST Execute Cancellation</h3>
<blockquote>
<p>Execute a cancellation</p>
</blockquote>
<pre class="highlight javascript"><code><span class="kd">function</span> <span class="nx">executeCancellation</span><span class="p">({</span> <span class="nx">cancellation</span><span class="p">,</span> <span class="nx">privateKey</span> <span class="p">})</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">signature</span> <span class="o">=</span> <span class="nx">signTransaction</span><span class="p">(</span><span class="nx">cancellation</span><span class="p">.</span><span class="nx">transaction</span><span class="p">,</span> <span class="nx">privateKey</span><span class="p">)</span>
  <span class="kr">const</span> <span class="nx">url</span> <span class="o">=</span> <span class="s2">`</span><span class="p">${</span><span class="nx">API_URL</span><span class="p">}</span><span class="s2">/cancellations/</span><span class="p">${</span><span class="nx">cancellation</span><span class="p">.</span><span class="nx">id</span><span class="p">}</span><span class="s2">/broadcast`</span>
  <span class="k">return</span> <span class="nx">api</span><span class="p">.</span><span class="nx">post</span><span class="p">(</span><span class="nx">url</span><span class="p">,</span> <span class="p">{</span> <span class="nx">signature</span> <span class="p">})</span>
<span class="p">}</span>
</code></pre>
<p>This is the second endpoint that must be called to cancel an order.
After calling the <a href="#create-cancellation">Create Cancellation</a> endpoint, you will receive
a transaction in the response which must be signed.</p>

<p>Note that a <code>sha256</code> parameter is provided for convenience to be used directly as part of the ECDSA signature process.</p>

<p><em>In production mode, this should be recalculated for additional security.</em></p>

<blockquote>
<p>Example request</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"signature"</span><span class="p">:</span> <span class="s2">"&lt;signature&gt;"</span>
<span class="p">}</span>
</code></pre><h4 id='http-request-28'>HTTP Request</h4>
<p><code>POST /v2/cancellations/:id/broadcast</code></p>
<h4 id='url-parameters-2'>URL Parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>signature</td>
<td><strong>string</strong></td>
<td>yes</td>
<td>Signature of the transaction. See <a href="#authentication">Authentication</a> for more details.</td>
</tr>
</tbody></table>
<h4 id='example-12'>Example</h4>
<p><a href="https://github.com/ConjurTech/switcheo-api-examples/blob/master/src/examples/orders/executeCancellationExample.js">Full execute cancellation example</a></p>
<h3 id='computing-offer-hash-neo'>Computing Offer Hash (NEO)</h3>
<blockquote>
<p>Computing the offer_hash</p>
</blockquote>
<pre class="highlight javascript"><code><span class="kr">const</span> <span class="nx">invoke</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">scriptHash</span><span class="p">:</span> <span class="nx">contractHash</span><span class="p">,</span>
    <span class="na">operation</span><span class="p">:</span> <span class="s1">'makeOffer'</span><span class="p">,</span>
    <span class="na">args</span><span class="p">:</span> <span class="p">[</span>
      <span class="nx">u</span><span class="p">.</span><span class="nx">reverseHex</span><span class="p">(</span><span class="nx">userHash</span><span class="p">),</span>
      <span class="nx">u</span><span class="p">.</span><span class="nx">reverseHex</span><span class="p">(</span><span class="nx">offerAssetID</span><span class="p">),</span> <span class="k">new</span> <span class="nx">BigNumber</span><span class="p">(</span><span class="nx">offerAmount</span><span class="p">).</span><span class="nx">toNumber</span><span class="p">(),</span>
      <span class="nx">u</span><span class="p">.</span><span class="nx">reverseHex</span><span class="p">(</span><span class="nx">wantAssetID</span><span class="p">),</span> <span class="k">new</span> <span class="nx">BigNumber</span><span class="p">(</span><span class="nx">wantAmount</span><span class="p">).</span><span class="nx">toNumber</span><span class="p">(),</span>
      <span class="nx">u</span><span class="p">.</span><span class="nx">str2hexstring</span><span class="p">(</span><span class="nx">uuid</span><span class="p">),</span>
    <span class="p">],</span>
  <span class="p">}</span>

<span class="kr">const</span> <span class="nx">offerKeyBytes</span> <span class="o">=</span> <span class="nx">invoke</span><span class="p">.</span><span class="nx">args</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="nx">invoke</span><span class="p">.</span><span class="nx">args</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="nx">invoke</span><span class="p">.</span><span class="nx">args</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+</span>
  <span class="nx">numToHex</span><span class="p">(</span><span class="nx">invoke</span><span class="p">.</span><span class="nx">args</span><span class="p">[</span><span class="mi">2</span><span class="p">])</span> <span class="o">+</span> <span class="nx">numToHex</span><span class="p">(</span><span class="nx">invoke</span><span class="p">.</span><span class="nx">args</span><span class="p">[</span><span class="mi">4</span><span class="p">])</span> <span class="o">+</span> <span class="nx">invoke</span><span class="p">.</span><span class="nx">args</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span>
<span class="kr">const</span> <span class="nx">offerHash</span> <span class="o">=</span> <span class="nx">u</span><span class="p">.</span><span class="nx">reverseHex</span><span class="p">(</span><span class="nx">u</span><span class="p">.</span><span class="nx">hash256</span><span class="p">(</span><span class="nx">offerKeyBytes</span><span class="p">))</span>

<span class="kr">const</span> <span class="nx">numToHex</span> <span class="o">=</span> <span class="p">(</span><span class="nx">num</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="k">typeof</span> <span class="nx">num</span> <span class="o">!==</span> <span class="s1">'number'</span><span class="p">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">'numToHex received a non-number'</span><span class="p">)</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">num</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="k">throw</span> <span class="nb">Error</span><span class="p">.</span><span class="k">new</span><span class="p">(</span><span class="s2">`numToHex received a negative number (</span><span class="p">${</span><span class="nx">num</span><span class="p">}</span><span class="s2">)!`</span><span class="p">)</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">num</span> <span class="o">&lt;=</span> <span class="mi">16</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nx">u</span><span class="p">.</span><span class="nx">num2hexstring</span><span class="p">(</span><span class="nx">num</span><span class="p">)</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nx">u</span><span class="p">.</span><span class="nx">num2hexstring</span><span class="p">(</span><span class="nx">num</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="kc">true</span><span class="p">)</span>
<span class="p">}</span>

</code></pre>
<p>In the previous sections,
  you may have noticed that offer_hashes are generated for fills and makes right after creation.</p>

<p>To compute the offer_hash, please take reference from the sample code snippet that is shown on the right.
  You can find the <code>u</code> library from <a href="https://github.com/CityOfZion/neon-js/tree/31600a3cb9c38b9a0d961e98475e4cc81c908cd8/packages/neon-core/src/u">neon-js</a>.</p>
<h2 id='balances'>Balances</h2>
<p><strong>Description</strong></p>

<p>There are two types of balances.</p>

<table><thead>
<tr>
<th>Balance</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Wallet balance</td>
<td>Number of tokens present in your wallet.</td>
</tr>
<tr>
<td>Contract balance</td>
<td>Number of tokens present in the Switcheo smart contract.</td>
</tr>
</tbody></table>

<p>Trading on Switcheo Exchange can only be done using your contract balance.</p>
<h3 id='get-contract-balances'>GET Contract Balances</h3>
<p>List contract balances of the given address and contract.</p>

<p>The purpose of this endpoint is to allow convenient querying of a user&#39;s balance across
multiple blockchains, for example, if you want to retrieve a user&#39;s NEO and ethereum balances.</p>

<p>As such, when using this endpoint, balances for the specified addresses and contract hashes
will be merged and summed.</p>

<p>Contract balances are divided into three types in the response. The following table describes
their differences.</p>

<table><thead>
<tr>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>confirming</td>
<td>Confirming balances cannot be used as they are awaiting confirmation and may be reverted. This can either be a deposit has been executed and is awaiting on-chain confirmations, or a withdrawal that has been executed and is being processed.</td>
</tr>
<tr>
<td>confirmed</td>
<td>Confirmed balances under this key are can be used to trade.</td>
</tr>
<tr>
<td>locked</td>
<td>Locked balances are balances that are withheld due to an open order and cannot be used to trade.</td>
</tr>
</tbody></table>
<h4 id='http-request-29'>HTTP Request</h4>
<blockquote>
<p>Example request:</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"addresses"</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">"&lt;address 1&gt;"</span>
  <span class="p">],</span>
  <span class="s2">"contract_hashes"</span><span class="p">:</span> <span class="p">[</span>
    <span class="s2">"&lt;contract hash 1&gt;"</span><span class="p">,</span>
    <span class="s2">"&lt;contract hash 2&gt;"</span>
  <span class="p">]</span>
<span class="p">}</span>

<span class="c1">// The URL should be:</span>
<span class="c1">// /v2/balances?addresses[]=address_1&amp;contract_hashes[]=contract_hash_1&amp;contract_hashes[]=contract_hash_2</span>
</code></pre>
<p><code>/v2/balances</code></p>
<h4 id='url-parameters-3'>URL parameters</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>addresses</td>
<td><strong>array</strong></td>
<td>yes</td>
<td>Only return balances for these <a href="#addresses">addresses</a></td>
</tr>
<tr>
<td>contract_hashes</td>
<td><strong>array</strong></td>
<td>yes</td>
<td>Only return balances from these <a href="#contracts">contract hashes</a>.</td>
</tr>
</tbody></table>
<h4 id='example-13'>Example</h4>
<blockquote>
<p>Example response:</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="s2">"confirming"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"GAS"</span><span class="p">:</span> <span class="p">[</span>
      <span class="p">{</span>
        <span class="s2">"event_type"</span><span class="p">:</span> <span class="s2">"withdrawal"</span><span class="p">,</span>
        <span class="s2">"asset_id"</span><span class="p">:</span> <span class="s2">"602c79718b16e442de58778e148d0b1084e3b2dffd5de6b7b16cee7969282de7"</span><span class="p">,</span>
        <span class="s2">"amount"</span><span class="p">:</span> <span class="o">-</span><span class="mi">100000000</span><span class="p">,</span>
        <span class="s2">"transaction_hash"</span><span class="p">:</span> <span class="kc">null</span><span class="p">,</span>
        <span class="s2">"created_at"</span><span class="p">:</span> <span class="s2">"2018-07-12T10:48:48.866Z"</span>
      <span class="p">}</span>
    <span class="p">]</span>
  <span class="p">},</span>
  <span class="s2">"confirmed"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"GAS"</span><span class="p">:</span> <span class="s2">"47320000000.0"</span><span class="p">,</span>
    <span class="s2">"SWTH"</span><span class="p">:</span> <span class="s2">"421549852102.0"</span><span class="p">,</span>
    <span class="s2">"NEO"</span><span class="p">:</span> <span class="s2">"50269113921.0"</span>
  <span class="p">},</span>
  <span class="s2">"locked"</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">"GAS"</span><span class="p">:</span> <span class="s2">"500000000.0"</span><span class="p">,</span>
    <span class="s2">"NEO"</span><span class="p">:</span> <span class="s2">"1564605000.0"</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<p><a href="https://github.com/ConjurTech/switcheo-api-examples/blob/master/src/examples/balances/listBalancesExample.js">Full list balances example</a></p>
<h2 id='errors'>Errors</h2>
<p>The Switcheo REST API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is badly formed.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- You did not provide a valid signature.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified endpoint or resource could not be found.</td>
</tr>
<tr>
<td>406</td>
<td>Not Acceptable -- You requested a format that isn&#39;t json.</td>
</tr>
<tr>
<td>422</td>
<td>Unprocessible Entity -- Your request had validation errors.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- Slow down requests using an <a href="https://en.wikipedia.org/wiki/Exponential_backoff">exponential backoff</a> strategy.</td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>
<h1 id='websocket'>Websocket</h1><h2 id='introduction-3'>Introduction</h2>
<p>Switcheo offers 3 APIs for streaming data:</p>

<ol>
<li>a public Offer Book API</li>
<li>a public Trade Events API</li>
<li>a private Order Events API</li>
</ol>

<p>Advantages include:</p>

<ul>
<li>receive notifications in real time</li>
<li>reduce the amount of data you have to transfer over the network</li>
<li>reduce latency introduced by polling interval</li>
</ul>

<p>For example, to maintain an order book on your client and react to changes on it, you may be polling the <a href="#get-offer-book">Get Offer Book</a> endpoint every three seconds:</p>

<ol>
<li>request <code>/v2/offers</code></li>
<li>bring back HTTP header data and a response body</li>
<li>parse the JSON in the response body</li>
<li>compare the latest response against the previous response to see what has changed</li>
</ol>

<p>Using the public Offer Book API, you can instead subscribe once and receive real time notifications of all
offer book changes.</p>

<p>The Switcheo Streaming API uses the <a href="https://socket.io/">Socket.IO</a> protocol. It is recommended to use a Socket.IO <a href="https://github.com/socketio/socket.io#features">client</a> for connecting the API.</p>

<p>For more information on how the Socket.IO protocol works in general, refer to:</p>

<ul>
<li><a href="https://socket.io/docs/#What-Socket-IO-is">What Socket.IO is</a></li>
<li><a href="https://github.com/socketio/socket.io-protocol">Socket.IO Protocol</a></li>
</ul>
<h2 id='connection-endpoints'>Connection Endpoints</h2>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight javascript"><code><span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">io</span><span class="p">(</span><span class="s1">'wss://test-ws.switcheo.io/&lt;namespace&gt;'</span><span class="p">);</span>
</code></pre>
<p>The connection endpoints are:</p>

<table><thead>
<tr>
<th>Type</th>
<th>Base URL</th>
</tr>
</thead><tbody>
<tr>
<td>Sandbox / TestNet</td>
<td><a href="wss://test-ws.switcheo.io">wss://test-ws.switcheo.io/</a></td>
</tr>
<tr>
<td>Production / MainNet</td>
<td><a href="wss://ws.switcheo.io">wss://ws.switcheo.io</a></td>
</tr>
</tbody></table>
<h2 id='event-types'>Event Types</h2>
<p>Below are the event types that may be emitted by WebSocket server. In addition,
all standard Socket.IO events are also emitted.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>all</code></td>
<td>Server</td>
<td>Emitted when initially joining a room</td>
</tr>
<tr>
<td><code>more</code></td>
<td>Server</td>
<td>Emitted in response to additional data requested by client</td>
</tr>
<tr>
<td><code>updates</code></td>
<td>Server</td>
<td>Emitted when a new event occurs</td>
</tr>
</tbody></table>

<p>Below are the event types that can be emitted by the client and are processed by the WebSocket server.</p>

<table><thead>
<tr>
<th>Name</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>join</code></td>
<td>Client</td>
<td>Emit to join a room (i.e. subscribe to a channel)</td>
</tr>
<tr>
<td><code>leave</code></td>
<td>Client</td>
<td>Emit to leave a room (i.e. unsubscribe from a channel)</td>
</tr>
<tr>
<td><code>more</code></td>
<td>Client</td>
<td>Emit to fetch more data</td>
</tr>
</tbody></table>
<h2 id='rooms'>Rooms</h2>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight javascript"><code><span class="nx">io</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'connection'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">socket</span><span class="p">){</span>
  <span class="nx">socket</span><span class="p">.</span><span class="nx">join</span><span class="p">({</span> <span class="p">...</span> <span class="p">});</span>
<span class="p">});</span>
</code></pre>
<p>After connecting to the Switcheo API, clients need to join the appropriate room in order to send or receive data.</p>

<p>Note that the room to join is always an object. The namespace and room parameters are described in each API section below. To learn more about Room and Namespaces, see the <a href="https://socket.io/docs/rooms-and-namespaces/">Socket.io docs</a>.</p>
<h2 id='offer-book'>Offer Book</h2>
<p>The Offer Book API allows clients to maintain an offer book, with diff-ing support to ensure data integrity.</p>
<h3 id='socket-connection'>Socket Connection</h3>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight javascript"><code><span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">io</span><span class="p">(</span><span class="s1">'wss://test-ws.switcheo.io/books'</span><span class="p">);</span>
<span class="nx">io</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'connection'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">socket</span><span class="p">){</span>
  <span class="nx">socket</span><span class="p">.</span><span class="nx">join</span><span class="p">({</span>
    <span class="na">contractHash</span><span class="p">:</span> <span class="s2">"91b83e96f2a7c4fdf0c1688441ec61986c7cae26"</span><span class="p">,</span>
    <span class="na">pair</span><span class="p">:</span> <span class="s2">"SWTH_NEO"</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre>
<p>To subscribe to the offer book API, connect to the <code>offers</code> namespace and join the room with the following parameters:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>contractHash</td>
<td><a href="#contract-hashes">Contract hash</a> of the exchange</td>
</tr>
<tr>
<td>pair</td>
<td><a href="#get-pairs">Pair</a> of the offer book to subscribe</td>
</tr>
</tbody></table>
<h3 id='all-event'>All Event</h3>
<blockquote>
<p>Example Event</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="nl">book</span><span class="p">:</span> <span class="p">{</span>
    <span class="nl">buys</span><span class="p">:</span> <span class="p">[</span> <span class="c1">// i.e. bids</span>
      <span class="p">{</span> <span class="na">price</span><span class="p">:</span> <span class="s1">'0.01000000'</span><span class="p">,</span> <span class="na">amount</span><span class="p">:</span> <span class="s1">'100'</span> <span class="p">},</span> <span class="c1">// amount refers to the quote quantity</span>
      <span class="p">{</span> <span class="na">price</span><span class="p">:</span> <span class="s1">'0.09000000'</span><span class="p">,</span> <span class="na">amount</span><span class="p">:</span> <span class="s1">'50'</span> <span class="p">},</span>
      <span class="p">...</span>
    <span class="p">],</span>
    <span class="nx">sells</span><span class="p">:</span> <span class="p">[</span> <span class="c1">// i.e. asks</span>
      <span class="p">...</span>
    <span class="p">]</span>
  <span class="p">}</span>
  <span class="nl">digest</span><span class="p">:</span> <span class="s1">'2fd4e1c67a2d28fced849ee1bb76e7391b93eb12'</span><span class="p">,</span>
<span class="p">}</span>
</code></pre>
<p>Upon joining the appropriate room, you will receieve an <code>all</code> event on your socket, which will contain the full data of the offer book for the subscribed pair, as well as a SHA-1 digest.</p>

<p>The SHA-1 digest can be used to maintain offer book integrity after future updates are applied.</p>
<h4 id='response-fields'>Response Fields</h4>
<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>book</td>
<td>The offer book data</td>
</tr>
<tr>
<td>digest</td>
<td>A SHA-1 digest of the stringified JSON <code>book</code></td>
</tr>
</tbody></table>
<h3 id='updates-event'>Updates Event</h3>
<blockquote>
<p>Example Event</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="nl">events</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="na">price</span><span class="p">:</span> <span class="s1">'0.01000000'</span><span class="p">,</span> <span class="na">side</span><span class="p">:</span> <span class="s1">'buy'</span><span class="p">,</span> <span class="na">delta</span><span class="p">:</span> <span class="s1">'-1'</span> <span class="p">},</span>
    <span class="p">...</span>
  <span class="p">],</span>
  <span class="nx">digest</span><span class="p">:</span> <span class="s1">'62d7beb325a49df2c323c45fd27e119d524468e0'</span><span class="p">,</span>
<span class="p">}</span>
</code></pre>
<blockquote>
<p>Example Handling</p>
</blockquote>
<pre class="highlight javascript"><code><span class="nx">socket</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'all'</span><span class="p">,</span> <span class="p">({</span> <span class="nx">events</span><span class="p">,</span> <span class="nx">digest</span> <span class="p">})</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">events</span><span class="p">.</span><span class="nx">forEach</span><span class="p">(</span><span class="nx">event</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kr">const</span> <span class="nx">index</span> <span class="o">=</span> <span class="nx">book</span><span class="p">[</span><span class="nx">event</span><span class="p">.</span><span class="nx">side</span><span class="p">].</span><span class="nx">findIndex</span><span class="p">(</span><span class="nx">o</span> <span class="o">=&gt;</span> <span class="nx">o</span><span class="p">.</span><span class="nx">price</span> <span class="o">===</span> <span class="nx">event</span><span class="p">.</span><span class="nx">price</span><span class="p">)</span>
    <span class="nx">oldBook</span><span class="p">[</span><span class="nx">event</span><span class="p">.</span><span class="nx">side</span><span class="p">].</span><span class="nx">amount</span> <span class="o">+=</span> <span class="nx">event</span><span class="p">.</span><span class="nx">delta</span>
  <span class="p">})</span>
  <span class="kr">const</span> <span class="nx">computedDigest</span> <span class="o">=</span> <span class="nx">computeDigest</span><span class="p">(</span><span class="nx">book</span><span class="p">)</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">computedDigest</span> <span class="o">!==</span> <span class="nx">digest</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">throw</span> <span class="k">new</span> <span class="nb">Error</span><span class="p">(</span><span class="s1">'offer book desynchronized!'</span><span class="p">)</span> <span class="c1">// handle by rejoining room</span>
  <span class="p">}</span>
<span class="p">});</span>
</code></pre>
<p>Whenever there is a change to the offer book, an <code>updates</code> event will be emitted, containing the update events and a SHA-1 digest.</p>
<h4 id='response-fields-2'>Response Fields</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>events</td>
<td>An array of <code>event</code>s to apply against the existing offer book.</td>
</tr>
<tr>
<td>digest</td>
<td>A SHA-1 digest of the stringified JSON <code>book</code> after <code>events</code> have been applied.</td>
</tr>
</tbody></table>
<h4 id='code-event-code-fields'><code>event</code> Fields</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>delta</td>
<td>The difference in quantity, which may be negative.</td>
</tr>
<tr>
<td>price</td>
<td>The offer book price point that is being updated.</td>
</tr>
<tr>
<td>side</td>
<td>The side of the offer book that has changed, either <code>buy</code> or <code>sell</code>.</td>
</tr>
</tbody></table>

<p>If the SHA-1 digest of the offer book does not match after applying updates, the room should be rejoined in order to refetch the full offer book.</p>

<p>The digest should be computed by constructing a sorted JSON string and applying the SHA-1 hash algorithm.</p>

<p>Keys in any JSON object should be sorted alphanumerically. Arrays should be sorted from highest price to lowest price.</p>

<p>Take note that when changing numeric values, and recomputing the offer book digest, amounts should be stringified, and exponentiated when the exponent is less than <code>-6</code> or more than <code>19</code>.</p>
<h4 id='number-to-string-formatting'>Number to string formatting</h4>
<table><thead>
<tr>
<th>Number</th>
<th>String</th>
<th>Info</th>
</tr>
</thead><tbody>
<tr>
<td><code>12345678</code></td>
<td><code>&#39;12345678&#39;</code></td>
<td>// e is only 8</td>
</tr>
<tr>
<td><code>0.000000123</code></td>
<td><code>&#39;1.23e-7&#39;</code></td>
<td>// e is &lt; -6</td>
</tr>
</tbody></table>
<h2 id='trade-events'>Trade Events</h2>
<p>The Trade Events API allows clients to subscribe and listen to trade events that happen on Switcheo Exchange. There is diff-ing support to ensure that no trade events are missed.</p>
<h3 id='socket-connection-2'>Socket Connection</h3>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight javascript"><code><span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">io</span><span class="p">(</span><span class="s1">'wss://test-ws.switcheo.io/trades'</span><span class="p">);</span>
<span class="nx">io</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'connection'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">socket</span><span class="p">){</span>
  <span class="nx">socket</span><span class="p">.</span><span class="nx">join</span><span class="p">({</span>
    <span class="na">contractHash</span><span class="p">:</span> <span class="s2">"91b83e96f2a7c4fdf0c1688441ec61986c7cae26"</span><span class="p">,</span>
    <span class="na">pair</span><span class="p">:</span> <span class="s2">"SWTH_NEO"</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre>
<p>To subscribe to the trade events API, connect to the <code>trades</code> namespace and join the room with the following parameters:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>contractHash</td>
<td><a href="#contract-hashes">Contract hash</a> of the exchange</td>
</tr>
<tr>
<td>pair</td>
<td><a href="#get-pairs">Pair</a> to listen to trade events for</td>
</tr>
</tbody></table>
<h3 id='all-event-2'>All Event</h3>
<blockquote>
<p>Example Event</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="nl">trades</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="na">price</span><span class="p">:</span> <span class="s1">'0.01000000'</span><span class="p">,</span> <span class="na">side</span><span class="p">:</span> <span class="s1">'buy'</span><span class="p">,</span> <span class="na">timestamp</span><span class="p">:</span> <span class="s1">'-1'</span><span class="p">,</span> <span class="na">amount</span><span class="p">:</span> <span class="s1">'100'</span> <span class="p">},</span>
    <span class="p">...</span>
  <span class="p">]</span>
  <span class="nl">digest</span><span class="p">:</span> <span class="s1">'2fd4e1c67a2d28fced849ee1bb76e7391b93eb12'</span><span class="p">,</span>
<span class="p">}</span>
</code></pre>
<p>Upon joining the appropriate room, you will receieve an <code>all</code> event on your socket, which will contain the last 50 trade events for the subscribed pair, as well as a SHA-1 digest.</p>

<p>The SHA-1 digest can be used to ensure that trade events were not missed.</p>
<h4 id='response-fields-3'>Response Fields</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>trades</td>
<td>The <code>trade</code> events</td>
</tr>
<tr>
<td>digest</td>
<td>A SHA-1 digest of the stringified JSON <code>trades</code></td>
</tr>
</tbody></table>
<h4 id='code-trade-code-fields'><code>trade</code> Fields</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>The amount of tokens traded (in quote quantity)</td>
</tr>
<tr>
<td>price</td>
<td>The price of the trade</td>
</tr>
<tr>
<td>side</td>
<td>The taker side of the trade, either <code>buy</code> or <code>sell</code></td>
</tr>
<tr>
<td>timestamp</td>
<td>The trade execution time</td>
</tr>
</tbody></table>
<h3 id='updates-event-2'>Updates Event</h3>
<blockquote>
<p>Example Event</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="nl">events</span><span class="p">:</span> <span class="p">[...],</span>
  <span class="nx">digest</span><span class="p">:</span> <span class="s1">'62d7beb325a49df2c323c45fd27e119d524468e0'</span><span class="p">,</span>
  <span class="nx">limit</span><span class="p">:</span> <span class="mi">50</span><span class="p">,</span>
<span class="p">}</span>
</code></pre>
<p>Whenever there is a new trade event, an <code>updates</code> event will be emitted.</p>

<p>The digest should be computed by stringifying the last <code>limit</code> trades of JSON data, and applying the SHA-1 hash algorithm.</p>

<p>The data array should be sorted from the largest to smallest <code>timestamp</code>. Keys in each object should be sorted alphanumerically.</p>

<p>Take note that to compute the digest, only the last <code>limit</code> trades should be used. Earlier trades events should be trimmed, before stringifying and hashing the data.</p>
<h4 id='event-fields'>Event Fields</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>events</td>
<td>An array of <code>event</code>s, in the same format as <code>trade</code></td>
</tr>
<tr>
<td>digest</td>
<td>A SHA-1 digest of the stringified JSON <code>trades</code> after <code>events</code> have been applied.</td>
</tr>
<tr>
<td>limit</td>
<td>The number of trades to hash in order to compute the SHA-1 digest. If this is less than the number of trades given in the <code>all</code> event and <code>updates</code> event, all trades should be used.</td>
</tr>
</tbody></table>
<h2 id='order-events'>Order Events</h2>
<p>The Order Events API allows clients to subscribe and listen to order events that happen on Switcheo Exchange.</p>
<h3 id='socket-connection-3'>Socket Connection</h3>
<blockquote>
<p>Example</p>
</blockquote>
<pre class="highlight javascript"><code><span class="kr">const</span> <span class="nx">client</span> <span class="o">=</span> <span class="nx">io</span><span class="p">(</span><span class="s1">'wss://test-ws.switcheo.io/orders'</span><span class="p">);</span>
<span class="nx">io</span><span class="p">.</span><span class="nx">on</span><span class="p">(</span><span class="s1">'connection'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">socket</span><span class="p">){</span>
  <span class="nx">socket</span><span class="p">.</span><span class="nx">join</span><span class="p">({</span>
    <span class="na">contractHash</span><span class="p">:</span> <span class="s2">"91b83e96f2a7c4fdf0c1688441ec61986c7cae26"</span><span class="p">,</span>
    <span class="na">pair</span><span class="p">:</span> <span class="s2">"SWTH_NEO"</span><span class="p">,</span>
    <span class="na">address</span><span class="p">:</span> <span class="s2">"20abeefe84e4059f6681bf96d5dcb5ddeffcc377"</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre>
<p>To subscribe to the order events API, connect to the <code>orders</code> namespace and join the room with the following parameters:</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>address</td>
<td>Address to listen to order events for</td>
</tr>
<tr>
<td>contractHash</td>
<td><a href="#contract-hashes">Contract hash</a> of the exchange</td>
</tr>
</tbody></table>
<h3 id='all-event-3'>All Event</h3>
<blockquote>
<p>Example Event</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="nl">orders</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span>
      <span class="na">baseAmount</span><span class="p">:</span> <span class="s2">"6147810"</span><span class="p">,</span>
      <span class="na">baseAsset</span><span class="p">:</span> <span class="s2">"NEO"</span><span class="p">,</span>
      <span class="na">blockchain</span><span class="p">:</span> <span class="s2">"neo"</span><span class="p">,</span>
      <span class="na">fee</span><span class="p">:</span> <span class="s2">"0"</span><span class="p">,</span>
      <span class="na">feeAsset</span><span class="p">:</span> <span class="s2">"NEO"</span><span class="p">,</span>
      <span class="na">filledAmount</span><span class="p">:</span> <span class="s2">"12345000000"</span><span class="p">,</span>
      <span class="na">fills</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
          <span class="na">amount</span><span class="p">:</span> <span class="s2">"2345000000"</span><span class="p">,</span>
          <span class="na">fee</span><span class="p">:</span> <span class="s2">"1758750"</span><span class="p">,</span>
          <span class="na">id</span><span class="p">:</span> <span class="s2">"353e8e0e-581c-4207-9cdb-718144d0ce0e"</span><span class="p">,</span>
          <span class="na">price</span><span class="p">:</span> <span class="s2">"0.000498"</span><span class="p">,</span>
          <span class="na">timestamp</span><span class="p">:</span> <span class="mi">1541582687</span>
        <span class="p">},</span>
        <span class="p">...</span>
      <span class="p">],</span>
      <span class="na">id</span><span class="p">:</span> <span class="s2">"06105c4c-9ed1-43fb-be79-d65c9e40c7fa"</span><span class="p">,</span>
      <span class="na">makeFills</span><span class="p">:</span> <span class="p">[</span>
        <span class="na">amount</span><span class="p">:</span> <span class="s2">"12345000000"</span><span class="p">,</span>
        <span class="na">fee</span><span class="p">:</span> <span class="s2">"78791"</span><span class="p">,</span>
        <span class="na">id</span><span class="p">:</span> <span class="s2">"2e8da960-10f6-439f-9ec2-36f5eeb1f179"</span><span class="p">,</span>
        <span class="na">price</span><span class="p">:</span> <span class="s2">"0.00034"</span><span class="p">,</span>
        <span class="na">timestamp</span><span class="p">:</span> <span class="mi">1540528856</span><span class="p">,</span>
        <span class="p">...</span>
      <span class="p">],</span>
      <span class="na">price</span><span class="p">:</span> <span class="s2">"0.000498"</span><span class="p">,</span>
      <span class="na">side</span><span class="p">:</span> <span class="s2">"sell"</span><span class="p">,</span>
      <span class="na">status</span><span class="p">:</span> <span class="s2">"completed"</span><span class="p">,</span>
      <span class="na">timestamp</span><span class="p">:</span> <span class="mi">1541582603</span><span class="p">,</span>
      <span class="na">tradeAmount</span><span class="p">:</span> <span class="s2">"12345000000"</span><span class="p">,</span>
      <span class="na">tradeAsset</span><span class="p">:</span> <span class="s2">"SWTH"</span><span class="p">,</span>
      <span class="na">type</span><span class="p">:</span> <span class="s2">"limit"</span>
    <span class="p">},</span>
    <span class="p">...</span>
  <span class="p">]</span>
<span class="p">}</span>
</code></pre>
<p>Clients can emit an <code>all</code> event to receive the last 50 orders. To receive more orders, emit a <a href="#more-event"><code>more</code></a> event.</p>
<h4 id='request-fields'>Request Fields</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>address</td>
<td>Array&lt;<strong>string</strong>&gt;</td>
<td>yes</td>
<td>Addresses to listen to order events for</td>
</tr>
<tr>
<td>contractHash</td>
<td>Array&lt;<strong>string</strong>&gt;</td>
<td>yes</td>
<td><a href="#contract-hashes">Contract hashes</a> of the exchange</td>
</tr>
<tr>
<td>pair</td>
<td><strong>string</strong></td>
<td>no</td>
<td><a href="#get-pairs">Pair</a> to listen to order events for</td>
</tr>
<tr>
<td>status</td>
<td><strong>string</strong></td>
<td>no</td>
<td>The status of the order, either <code>cancelled</code>, <code>completed</code>, or <code>open</code></td>
</tr>
</tbody></table>
<h4 id='response-fields-4'>Response Fields</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>orders</td>
<td>The <code>order</code> events</td>
</tr>
</tbody></table>
<h4 id='code-order-code-fields'><code>order</code> Fields</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>baseAmount</td>
<td>The quoted quantity of base asset</td>
</tr>
<tr>
<td>baseAsset</td>
<td>The base asset</td>
</tr>
<tr>
<td>blockchain</td>
<td>The blockchain, either <code>neo</code> or <code>eth</code></td>
</tr>
<tr>
<td>fee</td>
<td>The fee incurred</td>
</tr>
<tr>
<td>feeAsset</td>
<td>The fee asset</td>
</tr>
<tr>
<td>filledAmount</td>
<td>The filled amount of the order</td>
</tr>
<tr>
<td>fills</td>
<td>The orders <code>fill</code>ed by this order</td>
</tr>
<tr>
<td>id</td>
<td>The order id</td>
</tr>
<tr>
<td>makeFills</td>
<td>The orders that <code>fill</code>s this order</td>
</tr>
<tr>
<td>price</td>
<td>The quoted price if it&#39;s a limit order or <code>null</code> if it&#39;s a market order</td>
</tr>
<tr>
<td>side</td>
<td>The side of the order, either <code>buy</code> or <code>sell</code></td>
</tr>
<tr>
<td>status</td>
<td>The status of the order, either <code>cancelled</code>, <code>completed</code>, or <code>open</code></td>
</tr>
<tr>
<td>timestamp</td>
<td>The order time</td>
</tr>
<tr>
<td>tradeAmount</td>
<td>The quoted quantity of trade asset</td>
</tr>
<tr>
<td>tradeAsset:</td>
<td>The trade asset</td>
</tr>
<tr>
<td>type</td>
<td>The type of order, either <code>limit</code> or <code>market</code></td>
</tr>
</tbody></table>
<h4 id='code-fill-code-fields'><code>fill</code> Fields</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>amount</td>
<td>The filled amount</td>
</tr>
<tr>
<td>fee</td>
<td>The fee incurred by the taker</td>
</tr>
<tr>
<td>id</td>
<td>The fill id</td>
</tr>
<tr>
<td>price</td>
<td>The executed price</td>
</tr>
<tr>
<td>timestamp</td>
<td>The executed time</td>
</tr>
</tbody></table>
<h3 id='more-event'>More Event</h3>
<p>The more event is exactly the same as the <a href="#all-event"><code>all</code></a> event with the exception of an additional request parameter, <code>beforeId</code>.</p>
<h4 id='request-fields-2'>Request Fields</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Type</th>
<th>Required</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>address</td>
<td>Array&lt;<strong>string</strong>&gt;</td>
<td>yes</td>
<td>Addresses to listen to order events for</td>
</tr>
<tr>
<td>contractHash</td>
<td>Array&lt;<strong>string</strong>&gt;</td>
<td>yes</td>
<td><a href="#contract-hashes">Contract hashes</a> of the exchange</td>
</tr>
<tr>
<td>pair</td>
<td><strong>string</strong></td>
<td>no</td>
<td><a href="#get-pairs">Pair</a> to listen to order events for</td>
</tr>
<tr>
<td>status</td>
<td><strong>string</strong></td>
<td>no</td>
<td>The status of the order, either <code>cancelled</code>, <code>completed</code>, or <code>open</code></td>
</tr>
<tr>
<td>beforeId</td>
<td><strong>string</strong></td>
<td>no</td>
<td>The id of the last order in the order history</td>
</tr>
</tbody></table>
<h3 id='updates-event-3'>Updates Event</h3>
<blockquote>
<p>Example Event</p>
</blockquote>
<pre class="highlight javascript"><code><span class="p">{</span>
  <span class="nl">events</span><span class="p">:</span> <span class="p">[...],</span>
<span class="p">}</span>
</code></pre>
<p>Whenever there is a new order event, an <code>updates</code> event will be emitted.</p>
<h4 id='event-fields-2'>Event Fields</h4>
<table><thead>
<tr>
<th>Field</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>events</td>
<td>An array of <code>event</code>s, in the same format as <code>order</code></td>
</tr>
</tbody></table>
<h1 id='troubleshooting'>Troubleshooting</h1>
<p>The following steps can be used to troubleshoot potential issues:</p>

<ol>
<li><p>Check the <a href="#data-type">Data Types</a> section and ensure your parameters have the correct formatting.
Possible issues include the address format, amount format, parameter casing, private key format,
wrong parameters included to be signed, wrong timestamp.</p></li>
<li><p>Trace each step of signing parameters using the example in
<a href="#signing-request-parameters">Signing Request Parameters</a>, this example has
the expected inputs and outputs at each step of generating a signature.</p></li>
</ol>

<p>If you have further technical questions, please join our <a href="https://join.slack.com/t/switcheonetwork/shared_invite/enQtNDAyMTQ3Mzg3NjA1LTc0ODBlMWMxMjRkNTE5ZjkzN2VkNDNhYjQ2MjFlZTUwMzQ3NGMxYzZlODM5ZTAwZTcxMWM2YjA5MTAyN2FkYmI">slack channel</a> where you can field your questions to Switcheo developers or the Switcheo dev community.</p>
<h1 id='data-types'>Data Types</h1>
<p>There are some data types and attributes which Switcheo Exchange uses that have specific meanings and formats.</p>

<p>Here is a list of important data types:</p>

<table><thead>
<tr>
<th>Data Type</th>
</tr>
</thead><tbody>
<tr>
<td><a href="#addresses">Addresses</a></td>
</tr>
<tr>
<td><a href="#amounts">Amounts</a></td>
</tr>
<tr>
<td><a href="#contract-hashes">Contract Hashes</a></td>
</tr>
<tr>
<td><a href="#private-keys">Private Keys</a></td>
</tr>
<tr>
<td><a href="#signatures">Signature</a></td>
</tr>
<tr>
<td><a href="#timestamp">Timestamp</a></td>
</tr>
</tbody></table>
<h2 id='addresses'>Addresses</h2>
<p>An <code>address</code> in Switcheo is always represented by a hex string, and is prefixed by a <code>0x</code> only if it is
an Ethereum address. Addresses should always be in a <strong>lowercase</strong> hex string representation.</p>
<h3 id='neo-addresses'>NEO Addresses</h3>
<blockquote>
<p>Getting the user&#39;s address</p>
</blockquote>
<pre class="highlight javascript"><code><span class="kr">const</span> <span class="p">{</span> <span class="nx">wallet</span> <span class="p">}</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">'@cityofzion/neon-js'</span><span class="p">)</span>
<span class="nx">wallet</span><span class="p">.</span><span class="nx">getScriptHashFromPublicKey</span><span class="p">(</span><span class="s1">'031c37f6cce9627dc635d026deddd1200013c1b78dac767cdb507339a831183fd9'</span><span class="p">)</span>
<span class="c1">// Result: 87cf67daa0c1e9b6caa1443cf5555b09cb3f8e5f</span>

<span class="c1">// you can also retrieve the script hash from a wallet address directly with:</span>
<span class="nx">wallet</span><span class="p">.</span><span class="nx">getScriptHashFromAddress</span><span class="p">(</span><span class="s1">'AQV8FNNi2o7EtMNn4etWBYx1cqBREAifgE'</span><span class="p">)</span>
<span class="c1">// Result: 87cf67daa0c1e9b6caa1443cf5555b09cb3f8e5f</span>
</code></pre>
<p>For NEO, an <code>address</code> refers to the <a href="https://en.wikipedia.org/wiki/RIPEMD">RIPEMD160</a> hash of the the user&#39;s ECDSA public key.</p>

<p>An example implemention to derive an <code>address</code> from a user&#39;s public key can be found in the
<a href="https://github.com/CityOfZion/neon-js/blob/5d61c31a5d6e5e2e29095e08c70d23449810b509/src/wallet/core.js#L92">neon-js javascript library</a>.</p>

<p>Please note the difference in terminology between Switcheo and neon-js. Switcheo&#39;s <code>address</code> is equivalent to neon-js&#39;s <code>scriptHash</code>.</p>
<h3 id='ethereum-addresses'>Ethereum Addresses</h3>
<p>For Ethereum, an <code>addresses</code> refers to the <a href="https://en.wikipedia.org/wiki/SHA-3">Keccak</a> hash of the right-most 160-bits of the user&#39;s ECDSA public key, as specified in the Ethereum <a href="http://gavwood.com/paper.pdf">Yellow Paper</a>.</p>

<p>Ethereum addresses are sometimes displayed with uppercase letters for verification purposes. When submitting addresses through the Switcheo API however, the address should always be <strong>fully lowercased</strong>.</p>
<h2 id='amounts'>Amounts</h2>
<p>When specifying amounts as request parameters, the amounts should first be converted by following these steps:</p>

<ol>
<li>Multiply the original amount by 10 to the power of the precision allowed by the given token.</li>
<li>Drop any decimals, and convert the resulting integer to a string</li>
</ol>

<p>For example, if the token&#39;s precision is <code>8</code>, and the original amount is <code>9.12345678</code>:</p>

<ol>
<li>Following the above steps: <code>9.12345678 * (10 ^ 8)</code> = <code>912345678.00</code></li>
<li>Drop any decimals to get: <code>912345678</code></li>
<li>Convert the result to a string to get <code>&quot;912345678&quot;</code></li>
</ol>

<p>The list of supported assets and their corresponding precisions can be found in the <a href="#get-tokens">Tokens</a> section.</p>
<h2 id='private-keys'>Private Keys</h2>
<p>Please check the documentation of the respective blockchains for signing with private keys.</p>

<p>For NEO, there is both a WIF and a private key.</p>

<p>Example WIF:
<code style=" hyphens: none;">
L479CJz4ZyxHiumy2viAjBFk8nixKeMY45DCQa5p4n4AT6M6WsWq
</code></p>

<p>Example private key:
<code style=" hyphens: none;">
cd7b887c29a110e0ce53e81d6dd02805fc7b912718ff8b6659d8da42887342bd
</code></p>

<p>The private key should be used for signing, not the WIF.</p>
<h2 id='contract-hashes'>Contract Hashes</h2>
<p>Use <a href="#get-contracts">Get Contracts</a> to get the correct blockchain smart contract you are referring to. There may be more than one version for a given blockchain, due to upgrades, as smart contracts are immutable.  The correct contract hash must be used depending on whether you are using the TestNet or MainNet endpoints.</p>
<h2 id='signatures'>Signatures</h2>
<p>Take note that not all parameters should be included to generate the signature, excluded parameters are specified in their respective endpoint&#39;s documentation. See <a href="#signing-request-parameters">signing request parameters</a> for more information on how to sign each request based on the required blcokchain.</p>
<h2 id='timestamps'>Timestamps</h2>
<p>If a timestamp parameter is required, then it should first be fetched from the server using <a href="#get-timstamp">Get Timestamp</a>. If the timestamp is not within an acceptable range of the exchange&#39;s timestamp then an invalid signature error will be returned.</p>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
